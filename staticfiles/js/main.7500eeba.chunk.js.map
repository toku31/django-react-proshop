{"version":3,"sources":["constants/productConstants.js","constants/cartConstants.js","constants/userConstants.js","constants/orderConstants.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","actions/userActions.js","components/SearchBox.js","components/Header.js","components/Footer.js","actions/productActions.js","components/Rating.js","components/Product.js","components/Loader.js","components/Message.js","components/Paginate.js","components/ProductCaroulsel.js","screens/HomeScreen.js","screens/ProductScreen.js","actions/cartActions.js","screens/CartScreen.js","components/FormContainer.js","screens/LoginScreen.js","screens/RegisterScreen.js","screens/ProfileScreen.js","actions/orderActions.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","screens/OrderScreen.js","screens/UserListScreen.js","screens/UserEditScreen.js","screens/ProductListScreen.js","screens/ProductEditScreen.js","screens/OrderListScreen.js","App.js","reportWebVitals.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_RESET","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_TOP_REQUEST","PRODUCT_TOP_SUCCESS","PRODUCT_TOP_FAIL","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_CLEAR_ITEMS","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_RESET","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_RESET","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAIL","USER_LIST_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_UPDATE_RESET","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_LIST_MY_REQUEST","ORDER_LIST_MY_SUCCESS","ORDER_LIST_MY_FAIL","ORDER_LIST_MY_RESET","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","ORDER_DELIVER_RESET","reducer","combineReducers","productList","state","products","action","type","loading","payload","page","pages","error","productDetails","product","reviews","productDelete","success","productCreate","productUpdate","productReviewCreate","productTopRated","cart","cartItems","item","existItem","find","x","map","filter","shippingAddress","paymentMethod","userLogin","userInfo","userRegister","userDetails","user","userUpdateProfile","userList","users","userDelete","userUpdate","orderCreate","order","orderDetails","orderItems","orderPay","orderListMy","orders","orderList","orderDeliver","cartItemsFromStorage","localStorage","getItem","JSON","parse","userInfoFromStorage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","getUserDetails","id","dispatch","getstate","a","config","headers","Authorization","token","axios","get","data","message","response","SearchBox","useState","keyword","setKeyword","history","useHistory","Form","onSubmit","e","preventDefault","push","location","pathname","inline","Control","name","onChange","target","value","className","Button","variant","Header","useSelector","useDispatch","Navbar","bg","expand","Container","to","Brand","Toggle","aria-controls","Collapse","Nav","Link","NavDropdown","title","Item","onClick","console","log","removeItem","isAdmin","Footer","Row","Col","listProducts","detail","listProductDetails","Rating","text","color","style","Product","Card","_id","Img","src","image","Body","Title","as","Text","rating","numReviews","price","LoadingBox","Spinner","animation","role","height","width","margin","display","Message","children","Alert","Paginate","split","Pagination","Array","keys","active","ProductCaroulsel","useEffect","Carousel","pause","Image","alt","fluid","Caption","HomeScreen","search","sm","md","lg","xl","ProductScreen","match","qty","setQty","setRating","comment","setComment","loadingProductReview","errorProductReview","successProductReview","params","ListGroup","description","countInStock","xs","disabled","length","review","createdAt","substring","productId","getState","post","Group","controlId","Label","row","addToCart","setItem","stringify","CartScreen","Number","removeFromCartHandler","removeFromCart","rounded","prodct","reduce","acc","toFixed","FormContainer","LoginScreen","props","email","setEmail","password","setPassword","redirect","login","controlID","placeholder","required","RegisterScreen","setName","confirmPassword","setConfirmPassword","setMessage","register","ProfileScreen","loadingOrders","errorOrders","put","updateUserProfile","Table","striped","responsive","ClassName","totalPrice","isPaid","paidAt","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentScreen","setPaymentMethod","Check","label","checked","PlaceOrderScreen","itemsPrice","shippingPrice","taxPrice","index","createOrder","OrderScreen","orderId","sdkReady","setSdkReady","loadingPay","successPay","loadingDeliver","successDeliver","window","paypal","script","document","createElement","async","onload","body","appendChild","addPayPalScript","href","isDelivered","deliveredAt","amount","onSuccess","paymentResult","payOrder","DeliverOrder","UserListScreen","successDelete","deleteHandler","confirm","delete","deleteUser","bordered","hover","UserEditScreen","userId","setIsAdmin","loadingUpdate","errorUpdate","successUpdate","updateUser","ProductListScreen","loadingDelete","errorDelete","loadingCreate","errorCreate","successCreate","createdProduct","deleteProduct","category","brand","ProductEditScreen","setPrice","setImage","setBrand","setCategory","setCountInStock","setDescription","uploading","setUploading","uploadFileHandler","file","files","formData","FormData","append","header","updateProduct","File","custom","OrderListScreen","App","path","component","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7500eeba.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL';\r\n\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST';\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS';\r\nexport const PRODUCT_CREATE_FAIL = 'PRODUCT_CREATE_FAIL';\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET';\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST';\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS';\r\nexport const PRODUCT_UPDATE_FAIL = 'PRODUCT_UPDATE_FAIL';\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET';\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST';\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS';\r\nexport const PRODUCT_CREATE_REVIEW_FAIL = 'PRODUCT_CREATE_REVIEW_FAIL';\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_RESET';\r\n\r\nexport const PRODUCT_TOP_REQUEST = 'PRODUCT_TOP_REQUEST';\r\nexport const PRODUCT_TOP_SUCCESS = 'PRODUCT_TOP_SUCCESS';\r\nexport const PRODUCT_TOP_FAIL = 'PRODUCT_TOP_FAIL';","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\nexport const CART_CLEAR_ITEMS = 'CART_CLEAR_ITEMS'","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST'\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS'\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL'\r\n\r\nexport const USER_LOGOUT = 'USER_LOGOUT'\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST'\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS'\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL'\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST'\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS'\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL'\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET'  // 46\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST'\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS'\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL'\r\nexport const USER_UPDATE_PROFILE_RESET = 'USER_UPDATE_PROFILE_RESET'\r\n\r\n// 60\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST'\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS'\r\nexport const USER_LIST_FAIL = 'USER_LIST_FAIL'\r\nexport const USER_LIST_RESET = 'USER_LIST_RESET'\r\n\r\n// 61\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST'\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS'\r\nexport const USER_DELETE_FAIL = 'USER_DELETE_FAIL'\r\n\r\n// 64\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST'\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS'\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL'\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET'\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\n\r\nexport const ORDER_CREATE_RESET = 'ORDER_CREATE_RESET';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_LIST_MY_REQUEST = 'ORDER_LIST_MY_REQUEST';\r\nexport const ORDER_LIST_MY_SUCCESS = 'ORDER_LIST_MY_SUCCESS';\r\nexport const ORDER_LIST_MY_FAIL = 'ORDER_LIST_MY_FAIL';\r\nexport const ORDER_LIST_MY_RESET = 'ORDER_LIST_MY_RESET';\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\r\n\r\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST';\r\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS';\r\nexport const ORDER_DELIVER_FAIL = 'ORDER_DELIVER_FAIL';\r\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_RESET';","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { productListReducer, productDetailsReducer, productDeleteReducer, productCreateReducer, productUpdateReducer, productReviewCreateReducer, productTopRatedReducer } from './reducers/productReducers'\r\nimport { cartReducer } from  './reducers/cartReducers'\r\nimport { userLoginReducer,  userRegisterReducer, userDetailsReducer, userUpdateProfileReducer, userListReducer, userDeleteReducer, userUpdateReducer } from  './reducers/userReducers'\r\nimport { orderCreateReducer, orderDetailsReducer, orderPayReducer, orderListMyReducer, orderListReducer, orderDeliverReducer } from './reducers/orderReducers'\r\n\r\nconst reducer = combineReducers({\r\n  productList: productListReducer,\r\n  productDetails: productDetailsReducer,\r\n  productDelete: productDeleteReducer,\r\n  productCreate: productCreateReducer,\r\n  productUpdate: productUpdateReducer,\r\n  productReviewCreate: productReviewCreateReducer,\r\n  productTopRated: productTopRatedReducer,\r\n  \r\n  cart: cartReducer,\r\n  userLogin: userLoginReducer,\r\n  userRegister: userRegisterReducer,\r\n  userDetails: userDetailsReducer,\r\n  userUpdateProfile: userUpdateProfileReducer,\r\n  userList: userListReducer,\r\n  userDelete: userDeleteReducer,\r\n  userUpdate: userUpdateReducer,\r\n  orderCreate: orderCreateReducer,\r\n  orderDetails: orderDetailsReducer,\r\n  orderPay: orderPayReducer,\r\n  orderListMy: orderListMyReducer,\r\n  orderList: orderListReducer,\r\n  orderDeliver: orderDeliverReducer,\r\n})\r\n\r\nconst cartItemsFromStorage = localStorage.getItem('cartItems')\r\n  ? JSON.parse(localStorage.getItem('cartItems'))\r\n  : []\r\n\r\nconst userInfoFromStorage = localStorage.getItem('userInfo')\r\n  ? JSON.parse(localStorage.getItem('userInfo'))\r\n  : null\r\n\r\nconst shippingAddressFromStorage = localStorage.getItem('shippingAddress')\r\n  ? JSON.parse(localStorage.getItem('shippingAddress'))\r\n  : {}\r\n\r\nconst initialState = {\r\n  cart: { cartItems: cartItemsFromStorage, shippingAddress: shippingAddressFromStorage },\r\n  userLogin: { userInfo: userInfoFromStorage },\r\n}\r\n\r\nconst middleware = [thunk]\r\n\r\nconst store = createStore(reducer, initialState,\r\n    composeWithDevTools(applyMiddleware(...middleware)))\r\n\r\nexport default store","import { \r\n    PRODUCT_LIST_FAIL, \r\n    PRODUCT_LIST_REQUEST, \r\n    PRODUCT_LIST_SUCCESS,\r\n\r\n    PRODUCT_DETAILS_FAIL, \r\n    PRODUCT_DETAILS_REQUEST, \r\n    PRODUCT_DETAILS_SUCCESS, \r\n\r\n    PRODUCT_DELETE_REQUEST,\r\n    PRODUCT_DELETE_FAIL,\r\n    PRODUCT_DELETE_SUCCESS,\r\n    \r\n    PRODUCT_CREATE_REQUEST,\r\n    PRODUCT_CREATE_FAIL,\r\n    PRODUCT_CREATE_SUCCESS,\r\n    PRODUCT_CREATE_RESET,\r\n    \r\n    PRODUCT_UPDATE_REQUEST,\r\n    PRODUCT_UPDATE_FAIL,\r\n    PRODUCT_UPDATE_SUCCESS,\r\n    PRODUCT_UPDATE_RESET,\r\n    \r\n    PRODUCT_CREATE_REVIEW_REQUEST,\r\n    PRODUCT_CREATE_REVIEW_FAIL,\r\n    PRODUCT_CREATE_REVIEW_SUCCESS,\r\n    PRODUCT_CREATE_REVIEW_RESET,\r\n    \r\n    PRODUCT_TOP_REQUEST,\r\n    PRODUCT_TOP_FAIL,\r\n    PRODUCT_TOP_SUCCESS,\r\n\r\n  } from \"../constants/productConstants\";\r\n\r\nexport const productListReducer = (state={products:[]}, action) => {\r\n  switch(action.type) {\r\n    case PRODUCT_LIST_REQUEST:\r\n      return { loading: true, products:[] };\r\n    case PRODUCT_LIST_SUCCESS:\r\n      // return { loading: false, products: action.payload };\r\n      // 77 Pgination\r\n      return {\r\n        loading: false,\r\n        products: action.payload.products,\r\n        page: action.payload.page,\r\n        pages: action.payload.pages\r\n      };\r\n    \r\n    case PRODUCT_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// 24 Add Reducer to ProductScreen\r\nexport const productDetailsReducer = (state = {product: {reviews:[]} }, action) => {\r\n  switch(action.type) {\r\n    case PRODUCT_DETAILS_REQUEST:\r\n      return { loading: true, ...state };\r\n    case PRODUCT_DETAILS_SUCCESS:\r\n      return { loading: false, product: action.payload };\r\n    case PRODUCT_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// 66 Delete Products\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n  switch(action.type) {\r\n    case PRODUCT_DELETE_REQUEST:\r\n      return { loading: true};\r\n    case PRODUCT_DELETE_SUCCESS:\r\n      return { loading: false,  success: true };\r\n    case PRODUCT_DELETE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// 68 Admin Create Product\r\nexport const productCreateReducer = (state = {}, action) => {\r\n  switch(action.type) {\r\n    case PRODUCT_CREATE_REQUEST:\r\n      return { loading: true };\r\n    \r\n    case PRODUCT_CREATE_SUCCESS:\r\n      return { loading: false, success: true, product: action.payload };\r\n    \r\n    case PRODUCT_CREATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    \r\n    case PRODUCT_CREATE_RESET:\r\n      return {};\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// 70 Update Product\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n  switch(action.type) {\r\n    case PRODUCT_UPDATE_REQUEST:\r\n      return { loading: true };\r\n    \r\n    case PRODUCT_UPDATE_SUCCESS:\r\n      return { loading: false, success: true, product: action.payload };\r\n    \r\n    case PRODUCT_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    \r\n    case PRODUCT_UPDATE_RESET:\r\n      return { product: {}};\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// 75 Product Reviews\r\nexport const productReviewCreateReducer = (state = {}, action) => {\r\n  switch(action.type) {\r\n    case PRODUCT_CREATE_REVIEW_REQUEST:\r\n      return { loading: true };\r\n    \r\n    case PRODUCT_CREATE_REVIEW_SUCCESS:\r\n      return { loading: false, success: true };\r\n    \r\n    case PRODUCT_CREATE_REVIEW_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    \r\n    case PRODUCT_CREATE_REVIEW_RESET:\r\n      return {};\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// 78 Product Carousel\r\nexport const productTopRatedReducer = (state = {products: []}, action) => {\r\n  switch(action.type) {\r\n    case PRODUCT_TOP_REQUEST:\r\n      return { loading: true, products: [] };\r\n    \r\n    case PRODUCT_TOP_SUCCESS:\r\n      return { loading: false, products: action.payload };\r\n    \r\n    case PRODUCT_TOP_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}","import { \r\n  CART_ADD_ITEM, \r\n  CART_REMOVE_ITEM, \r\n  CART_SAVE_PAYMENT_METHOD, \r\n  CART_SAVE_SHIPPING_ADDRESS,\r\n  CART_CLEAR_ITEMS\r\n} from \"../constants/cartConstants\";\r\n\r\n\r\nexport const cartReducer = (state = { cartItems:[]}, action) => {\r\n  switch(action.type) {\r\n    case CART_ADD_ITEM:\r\n      const item = action.payload;\r\n      const existItem = state.cartItems.find(x => x.product===item.product);\r\n      if (existItem) {\r\n        return {\r\n          ...state,\r\n          cartItems: state.cartItems.map((x) => (\r\n            x.product === existItem.product ? item : x          \r\n          )),\r\n        };\r\n      } else {\r\n        return { ...state, cartItems: [...state.cartItems, item]};\r\n      }\r\n    case CART_REMOVE_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems.filter((x) => x.product !== action.payload),\r\n      }\r\n    case CART_SAVE_SHIPPING_ADDRESS:\r\n      return { ...state, shippingAddress: action.payload };\r\n    case CART_SAVE_PAYMENT_METHOD:\r\n      return { ...state, paymentMethod: action.payload };\r\n    case CART_CLEAR_ITEMS:\r\n      return { ...state, cartItems: []};\r\n    default:\r\n      return state;\r\n  }\r\n};","import { \r\n  USER_LOGIN_FAIL, \r\n  USER_LOGIN_REQUEST, \r\n  USER_LOGOUT, \r\n  USER_LOGIN_SUCCESS, \r\n\r\n  USER_REGISTER_FAIL, \r\n  USER_REGISTER_REQUEST, \r\n  USER_REGISTER_SUCCESS, \r\n\r\n  USER_DETAILS_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_DETAILS_RESET,\r\n\r\n  USER_UPDATE_PROFILE_FAIL, \r\n  USER_UPDATE_PROFILE_REQUEST,\r\n  USER_UPDATE_PROFILE_RESET,\r\n  USER_UPDATE_PROFILE_SUCCESS,\r\n\r\n  USER_LIST_FAIL,\r\n  USER_LIST_REQUEST,\r\n  USER_LIST_SUCCESS,\r\n  USER_LIST_RESET,\r\n\r\n  USER_DELETE_FAIL,\r\n  USER_DELETE_REQUEST,\r\n  USER_DELETE_SUCCESS,\r\n  \r\n  USER_UPDATE_FAIL,\r\n  USER_UPDATE_REQUEST,\r\n  USER_UPDATE_SUCCESS,\r\n  USER_UPDATE_RESET,\r\n\r\n} from \"../constants/userConstants\";\r\n\r\nexport const userLoginReducer = (state={}, action) => {\r\n  switch(action.type) {\r\n    case USER_LOGIN_REQUEST:\r\n      return { loading: true };\r\n    case USER_LOGIN_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_LOGIN_FAIL:\r\n      return { loading: false, error:action.payload };\r\n    case USER_LOGOUT:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userRegisterReducer = (state={}, action) => {\r\n  switch(action.type) {\r\n    case USER_REGISTER_REQUEST:\r\n      return { loading: true };\r\n    case USER_REGISTER_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_REGISTER_FAIL:\r\n      return { loading: false, error:action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userDetailsReducer = (state = {user: {}}, action) => {\r\n  switch(action.type) {\r\n    case USER_DETAILS_REQUEST:\r\n      return { ...state, loading: true };\r\n    case USER_DETAILS_SUCCESS:\r\n      return { loading: false, user: action.payload };\r\n    case USER_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload }\r\n    case USER_DETAILS_RESET:\r\n      return { user:{} }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n  switch(action.type) {\r\n    case USER_UPDATE_PROFILE_REQUEST:\r\n      return {loading: true};\r\n    case USER_UPDATE_PROFILE_SUCCESS:\r\n      return { loading: false, success: true, userInfo: action.payload }\r\n    case USER_UPDATE_PROFILE_FAIL:\r\n      return { loading: false, error: action.payload }\r\n    case USER_UPDATE_PROFILE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const userListReducer = (state = {users:[]}, action) => {\r\n  switch(action.type) {\r\n    case USER_LIST_REQUEST:\r\n      return {loading: true};\r\n    case USER_LIST_SUCCESS:\r\n      return { loading: false, users: action.payload }\r\n    case USER_LIST_FAIL:\r\n      return { loading: false, error: action.payload }\r\n    case USER_LIST_RESET:\r\n      return { users: [] };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n  switch(action.type) {\r\n    case USER_DELETE_REQUEST:\r\n      return {loading: true};\r\n    case USER_DELETE_SUCCESS:\r\n      return { loading: false, success: true }\r\n    case USER_DELETE_FAIL:\r\n      return { loading: false, error: action.payload }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const userUpdateReducer = (state = {user:{}}, action) => {\r\n  switch(action.type) {\r\n    case USER_UPDATE_REQUEST:\r\n      return {loading: true};\r\n    case USER_UPDATE_SUCCESS:\r\n      return { loading: false, success: true }\r\n    case USER_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload }\r\n    case USER_UPDATE_RESET:\r\n      return { user: {} }\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_CREATE_RESET,\r\n\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_SUCCESS,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_PAY_RESET,\r\n\r\n  ORDER_LIST_MY_REQUEST,\r\n  ORDER_LIST_MY_SUCCESS,\r\n  ORDER_LIST_MY_FAIL,\r\n  ORDER_LIST_MY_RESET,\r\n\r\n  ORDER_LIST_REQUEST,\r\n  ORDER_LIST_SUCCESS,\r\n  ORDER_LIST_FAIL,\r\n\r\n  ORDER_DELIVER_REQUEST,\r\n  ORDER_DELIVER_SUCCESS,\r\n  ORDER_DELIVER_FAIL,\r\n  ORDER_DELIVER_RESET,\r\n\r\n} from '../constants/orderConstants'\r\n\r\nexport const orderCreateReducer = (state={}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_CREATE_REQUEST:\r\n      return {\r\n        loading: true\r\n      }\r\n    case ORDER_CREATE_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        success: true,\r\n        order: action.payload,\r\n      }\r\n    case ORDER_CREATE_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n      }\r\n    case ORDER_CREATE_RESET:\r\n      return {}    \r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const orderDetailsReducer = (state={loading: true, orderItems:[], shippingAddress: {}}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DETAILS_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case ORDER_DETAILS_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        order: action.payload,\r\n      }\r\n    case ORDER_DETAILS_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const orderPayReducer = (state={}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_PAY_REQUEST:\r\n      return {\r\n        loading: true\r\n      }\r\n    \r\n    case ORDER_PAY_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        success: true,\r\n      }\r\n    \r\n    case ORDER_PAY_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n      }\r\n    case ORDER_PAY_RESET:\r\n      return {}\r\n    \r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// 73\r\nexport const orderDeliverReducer = (state={}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DELIVER_REQUEST:\r\n      return {\r\n        loading: true\r\n      }\r\n    \r\n    case ORDER_DELIVER_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        success: true,\r\n      }\r\n    \r\n    case ORDER_DELIVER_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n      }\r\n    case ORDER_DELIVER_RESET:\r\n      return {}\r\n    \r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const orderListMyReducer = (state={orders:[]}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_LIST_MY_REQUEST:\r\n      return {\r\n        loading: true\r\n      }\r\n    \r\n    case ORDER_LIST_MY_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        orders: action.payload,\r\n      }\r\n    \r\n    case ORDER_LIST_MY_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n      }\r\n    case ORDER_LIST_MY_RESET:\r\n      return {orders: []}\r\n    \r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// 72 Admin Order List\r\nexport const orderListReducer = (state={orders:[]}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_LIST_REQUEST:\r\n      return {\r\n        loading: true\r\n      }\r\n    \r\n    case ORDER_LIST_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        orders: action.payload,\r\n      }\r\n    \r\n    case ORDER_LIST_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n      }\r\n   \r\n    default:\r\n      return state\r\n  }\r\n}","import axios from \"axios\";\r\nimport { \r\n  USER_REGISTER_FAIL, \r\n  USER_REGISTER_REQUEST, \r\n  USER_REGISTER_SUCCESS, \r\n\r\n  USER_LOGIN_FAIL, \r\n  USER_LOGIN_REQUEST, \r\n  USER_LOGOUT, \r\n  USER_LOGIN_SUCCESS,\r\n\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n\r\n  USER_UPDATE_PROFILE_REQUEST,\r\n  USER_UPDATE_PROFILE_FAIL,\r\n  USER_UPDATE_PROFILE_SUCCESS,\r\n  USER_DETAILS_RESET,\r\n\r\n  USER_LIST_FAIL,\r\n  USER_LIST_REQUEST,\r\n  USER_LIST_SUCCESS,\r\n  USER_LIST_RESET,\r\n\r\n  USER_DELETE_FAIL,\r\n  USER_DELETE_REQUEST,\r\n  USER_DELETE_SUCCESS,\r\n\r\n  USER_UPDATE_FAIL,\r\n  USER_UPDATE_REQUEST,\r\n  USER_UPDATE_SUCCESS,\r\n\r\n} from \"../constants/userConstants\"\r\n  \r\nimport { ORDER_LIST_MY_RESET } from '../constants/orderConstants'\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: USER_REGISTER_REQUEST});\r\n\r\n      const config = {\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        }\r\n    }\r\n\r\n      const {data} = await axios.post(\r\n        '/api/users/register/', \r\n        { 'name': name, 'email': email, 'password': password },\r\n        config\r\n      );\r\n\r\n      dispatch({ type: USER_REGISTER_SUCCESS, payload: data })\r\n      dispatch({ type: USER_LOGIN_SUCCESS, payload: data })\r\n      localStorage.setItem('userInfo', JSON.stringify(data));\r\n\r\n  }catch(error){\r\n    dispatch({\r\n      type: USER_REGISTER_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n      ? error.response.data.detail\r\n      : error.message,\r\n    });\r\n  };\r\n}\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n  try {\r\n      dispatch({\r\n          type: USER_LOGIN_REQUEST\r\n      })\r\n\r\n      const config = {\r\n          headers: {\r\n              'Content-type': 'application/json'\r\n          }\r\n      }\r\n      \r\n      const { data } = await axios.post(\r\n        '/api/users/login/',\r\n        { 'username': email, 'password': password },\r\n        config\r\n    )\r\n\r\n    dispatch({ \r\n      type: USER_LOGIN_SUCCESS, \r\n      payload: data\r\n     })\r\n\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n\r\n  }catch(error){\r\n    dispatch({\r\n      type: USER_LOGIN_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n      ? error.response.data.detail\r\n      : error.message,\r\n    });\r\n  };\r\n}\r\n\r\nexport const logout = () => (dispatch) => {\r\n  localStorage.removeItem('userInfo');\r\n  // localStorage.removeItem('cartItems');\r\n  // localStorage.removeItem('shippingAddress');\r\n  dispatch({ type: USER_LOGOUT});\r\n  dispatch({ type: USER_DETAILS_RESET});\r\n  dispatch({ type: ORDER_LIST_MY_RESET});\r\n  dispatch({ type: USER_LIST_RESET});\r\n}\r\n\r\nexport const getUserDetails = (id) => async (dispatch, getstate) => {\r\n  \r\n  try {\r\n    dispatch({type: USER_DETAILS_REQUEST, payload: id });\r\n\r\n    const { userLogin:{userInfo}} = getstate();\r\n\r\n    const config = {\r\n      headers: {\r\n          'Content-type': 'application/json',\r\n          Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n\r\n    const { data } = await axios.get(\r\n      `/api/users/${id}`, \r\n      config\r\n    )\r\n\r\n    dispatch({type: USER_DETAILS_SUCCESS, payload: data })\r\n  } catch(error){\r\n    const message = error.response && error.response.data.message\r\n    ? error.response.data.message\r\n    : error.message;\r\n    dispatch({type: USER_DETAILS_FAIL, payload: message});\r\n  }\r\n}\r\n\r\nexport const updateUserProfile = (user) => async(dispatch, getState ) => {\r\n  \r\n  try {\r\n   dispatch({type: USER_UPDATE_PROFILE_REQUEST});\r\n\r\n   const { userLogin: { userInfo }} = getState();\r\n\r\n   const config = {\r\n    headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n    }\r\n  }\r\n\r\n   const { data } = await axios.put(`/api/users/profile/update/`, user, config);\r\n\r\n   dispatch({type: USER_UPDATE_PROFILE_SUCCESS, payload: data });\r\n   dispatch({ type: USER_LOGIN_SUCCESS, payload: data});\r\n   localStorage.setItem('usesrInfo', JSON.stringify(data));\r\n  } catch(error){\r\n    dispatch({\r\n      type: USER_UPDATE_PROFILE_FAIL, \r\n      payload: error.response && error.response.data.detail\r\n      ? error.response.data.detail\r\n      : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport const listUsers = () => async (dispatch, getState) => {\r\n  \r\n  try {\r\n   dispatch({type: USER_LIST_REQUEST});\r\n\r\n   const { userLogin: { userInfo }} = getState();\r\n\r\n   const config = {\r\n    headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n    }\r\n  }\r\n\r\n   const { data } = await axios.get(`/api/users/`, config);\r\n   dispatch({type: USER_LIST_SUCCESS, payload: data });\r\n\r\n  } catch(error){\r\n    dispatch({\r\n      type: USER_LIST_FAIL, \r\n      payload: error.response && error.response.data.detail\r\n      ? error.response.data.detail\r\n      : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteUser = (id) => async (dispatch, getState) => {\r\n  \r\n  try {\r\n   dispatch({type: USER_DELETE_REQUEST});\r\n   const { userLogin: { userInfo }} = getState();\r\n   const config = {\r\n    headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n    }\r\n  }\r\n\r\n   const { data } = await axios.delete(`/api/users/delete/${id}`, config);\r\n   dispatch({type: USER_DELETE_SUCCESS, payload: data });\r\n\r\n  } catch(error){\r\n    dispatch({\r\n      type: USER_DELETE_FAIL, \r\n      payload: error.response && error.response.data.detail\r\n      ? error.response.data.detail\r\n      : error.message,\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n  \r\n  try {\r\n   dispatch({type: USER_UPDATE_REQUEST});\r\n   const { userLogin: { userInfo }} = getState();\r\n   const config = {\r\n    headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n    }\r\n  }\r\n\r\n   const { data } = await axios.put(`/api/users/update/${user._id}/`, user, config);\r\n    dispatch({ type: USER_UPDATE_SUCCESS });\r\n    dispatch({type: USER_DETAILS_SUCCESS, payload: data });\r\n\r\n  } catch(error){\r\n    dispatch({\r\n      type: USER_UPDATE_FAIL, \r\n      payload: error.response && error.response.data.detail\r\n      ? error.response.data.detail\r\n      : error.message,\r\n    })\r\n  }\r\n}","import { useState } from 'react'\r\nimport { Button, Form } from 'react-bootstrap'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nfunction SearchBox() {\r\n\r\n  const [keyword, setKeyword] = useState('')\r\n\r\n  let history = useHistory()\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (keyword) {\r\n      // history.push(`/?keyword=${keyword}`)\r\n      history.push(`/?keyword=${keyword}&page=1`)  // 77\r\n    } else {\r\n      // location.pathname: URL\r\n      history.push(history.push(history.location.pathname))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={submitHandler} inline>\r\n      <Form.Control\r\n        type='text'\r\n        name='q'\r\n        onChange={(e) => setKeyword(e.target.value)}\r\n        className='mr-sm-2 ml-sm-5'\r\n      ></Form.Control>\r\n\r\n      <Button\r\n        type='submit'\r\n        variant='outline-success'\r\n        className='p-2'\r\n      >\r\n        Submit\r\n      </Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default SearchBox\r\n","import React from 'react'\r\nimport { Navbar, Nav, Container, Row, NavDropdown } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { logout } from '../actions/userActions';\r\nimport SearchBox from './SearchBox'\r\n\r\nfunction Header() {\r\n\r\n  const userLogin = useSelector(state => state.userLogin)\r\n  const { userInfo } = userLogin\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const logoutHandler = ()=> {\r\n    console.log('logout')\r\n    dispatch(logout())\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n        <Container>\r\n          <LinkContainer to='/'>\r\n            <Navbar.Brand>Proshop</Navbar.Brand>\r\n          </LinkContainer>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <SearchBox />\r\n            <Nav className=\"ml-auto\">\r\n\r\n              <LinkContainer to='/cart'>\r\n                <Nav.Link><i className=\"fas fa-shopping-cart\"></i>Cart</Nav.Link>\r\n              </LinkContainer>\r\n\r\n              { userInfo ? (\r\n                <NavDropdown title={userInfo.name} id='username'>\r\n                  <LinkContainer to='/profile'>\r\n                    <NavDropdown.Item>Profile</NavDropdown.Item>\r\n                  </LinkContainer>\r\n\r\n                  <NavDropdown.Item onClick={logoutHandler}>Logout</NavDropdown.Item>\r\n\r\n                </NavDropdown>\r\n                ) : (\r\n                <LinkContainer to='/login'>\r\n                  <Nav.Link><i className=\"fas fa-user\"></i>Login</Nav.Link>\r\n                </LinkContainer>\r\n                )\r\n              }\r\n              \r\n              {userInfo && userInfo.isAdmin && (\r\n                <NavDropdown title='Admin' id='adminmenue'>\r\n                  <LinkContainer to='/admin/userlist'>\r\n                    <NavDropdown.Item>Users</NavDropdown.Item>\r\n                  </LinkContainer>\r\n\r\n                  <LinkContainer to='/admin/productlist'>\r\n                    <NavDropdown.Item>Products</NavDropdown.Item>\r\n                  </LinkContainer>\r\n\r\n                  <LinkContainer to='/admin/orderlist'>\r\n                    <NavDropdown.Item>Orders</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                </NavDropdown>\r\n              )}\r\n\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer>\r\n      <Container>\r\n        <Row>\r\n          <Col className=\"text-center py-3\">Copyright &copy; Proshop </Col>\r\n        </Row>\r\n      </Container>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import axios from \"axios\";\r\n\r\nimport { \r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_DETAILS_REQUEST, \r\n  PRODUCT_DETAILS_SUCCESS, \r\n  PRODUCT_LIST_FAIL, \r\n  PRODUCT_LIST_REQUEST, \r\n  PRODUCT_LIST_SUCCESS,\r\n\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n\r\n  PRODUCT_CREATE_REQUEST,\r\n  PRODUCT_CREATE_FAIL,\r\n  PRODUCT_CREATE_SUCCESS,\r\n\r\n  PRODUCT_UPDATE_REQUEST,\r\n  PRODUCT_UPDATE_SUCCESS,\r\n  PRODUCT_UPDATE_FAIL,\r\n\r\n  PRODUCT_CREATE_REVIEW_REQUEST,\r\n  PRODUCT_CREATE_REVIEW_FAIL,\r\n  PRODUCT_CREATE_REVIEW_SUCCESS,\r\n\r\n  PRODUCT_TOP_REQUEST,\r\n  PRODUCT_TOP_FAIL,\r\n  PRODUCT_TOP_SUCCESS,\r\n\r\n} from \"../constants/productConstants\";\r\n\r\n // Add Reducer to HomeScreen  // 75 keyword\r\n export const listProducts = (keyword = '') => async (dispatch) => {\r\n  dispatch({\r\n    type: PRODUCT_LIST_REQUEST\r\n  });\r\n  try {\r\n    const { data } = await axios.get(`/api/products${keyword}`);  //75\r\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n  } catch(error) {\r\n    dispatch({ \r\n        type: PRODUCT_LIST_FAIL, \r\n        payload: error.response && error.response.data.detail // 39\r\n            ? error.response.data.detail // 39\r\n            : error.message\r\n      });\r\n  }\r\n}\r\n\r\n // 78 Product Carousel\r\n export const listTopProducts = () => async (dispatch) => {\r\n  dispatch({\r\n    type: PRODUCT_TOP_REQUEST\r\n  });\r\n  try {\r\n    const { data } = await axios.get(`/api/products/top/`);  \r\n    dispatch({ type: PRODUCT_TOP_SUCCESS, payload: data });\r\n  } catch(error) {\r\n    dispatch({ \r\n        type: PRODUCT_TOP_FAIL, \r\n        payload: error.response && error.response.data.detail \r\n            ? error.response.data.detail\r\n            : error.message\r\n      });\r\n  }\r\n}\r\n\r\n// 24 Add Reducer to ProductScreen\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n    const { data } = await axios.get(`/api/products/${id}`);\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch(error){\r\n    dispatch({ type: PRODUCT_DETAILS_FAIL, \r\n      payload: error.response && error.response.data.detail   // 39\r\n        ? error.response.data.detail// 39\r\n        : error.message\r\n   });\r\n  }\r\n}\r\n\r\n// 66 listMyOrders\r\nexport const deleteProduct = (id) => async(dispatch, getState) => {\r\n  \r\n  try {\r\n    dispatch({ type: PRODUCT_DELETE_REQUEST })\r\n\r\n    const { userLogin: { userInfo } } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n\r\n    const { data } = await axios.delete(`/api/products/delete/${id}/`, config)\r\n    console.log(data)\r\n    \r\n    dispatch({\r\n      type: PRODUCT_DELETE_SUCCESS,\r\n    })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DELETE_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message\r\n    })\r\n  }\r\n}\r\n\r\n\r\n// 68 Admin Create Product\r\nexport const createProduct = () => async(dispatch, getState) => {\r\n  \r\n  try {\r\n    dispatch({ type: PRODUCT_CREATE_REQUEST })\r\n\r\n    const { userLogin: { userInfo } } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n\r\n    const { data } = await axios.post(\r\n      `/api/products/create/`,\r\n      {},\r\n      config\r\n    )\r\n\r\n    console.log(data)\r\n    \r\n    dispatch({\r\n      type: PRODUCT_CREATE_SUCCESS,\r\n      payload: data,\r\n    })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_CREATE_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message\r\n    })\r\n  }\r\n}\r\n\r\n\r\n// 70 Update Product\r\nexport const updateProduct = (product) => async(dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_UPDATE_REQUEST })\r\n\r\n    const { userLogin: { userInfo } } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n\r\n    const { data } = await axios.put(\r\n      `/api/products/update/${product._id}/`,\r\n      product,\r\n      config\r\n    )\r\n\r\n    console.log(data)\r\n    \r\n    dispatch({\r\n      type: PRODUCT_UPDATE_SUCCESS,\r\n      payload: data,\r\n    })\r\n\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_SUCCESS,\r\n      payload: data\r\n    })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_UPDATE_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message\r\n    })\r\n  }\r\n}\r\n\r\n// 75 Product Reviews\r\nexport const createProductReview = (productId, review) => async(dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST })\r\n\r\n    const { userLogin: { userInfo } } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n\r\n    const { data } = await axios.post(\r\n      `/api/products/${productId}/reviews/`,\r\n      review,\r\n      config\r\n    )\r\n    \r\n    console.log(data)\r\n    \r\n    dispatch({\r\n      type: PRODUCT_CREATE_REVIEW_SUCCESS,\r\n      payload: data,\r\n    })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_CREATE_REVIEW_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message\r\n    })\r\n  }\r\n}","import React from 'react'\r\n\r\nfunction Rating( { value, text, color }) {\r\n  return (\r\n    <div className =\"rating\">\r\n      <span>\r\n        <i style={ { color }} className={\r\n           value >=1\r\n              ? \"fas fa-star\"\r\n              : value >=0.5\r\n                 ? \"fas fa-star-half-alt\"\r\n                  : \"far fa-star\"\r\n        }>\r\n        </i>\r\n      </span>\r\n\r\n      <span>\r\n        <i style={ { color }} className={\r\n           value >=2\r\n              ? \"fas fa-star\"\r\n              : value >=1.5\r\n                 ? \"fas fa-star-half-alt\"\r\n                  : \"far fa-star\"\r\n        }> \r\n        </i>\r\n      </span>\r\n\r\n      <span>\r\n        <i style={ { color }} className={\r\n           value >=3\r\n              ? 'fas fa-star'\r\n              : value >=2.5\r\n                 ? 'fas fa-star-half-alt'\r\n                  : 'far fa-star'\r\n        }>\r\n        </i>\r\n      </span>\r\n\r\n      <span>\r\n        <i style={ { color }} className={\r\n           value >=4\r\n              ? 'fas fa-star'\r\n              :value >=3.5\r\n                 ? 'fas fa-star-half-alt'\r\n                  : 'far fa-star'\r\n        }>\r\n        </i>\r\n      </span>\r\n  \r\n      <span>\r\n        <i style={ { color }} className={\r\n           value >=5\r\n              ? 'fas fa-star'\r\n              :value >=4.5\r\n                 ? 'fas fa-star-half-alt'\r\n                  : 'far fa-star'\r\n        }>\r\n        </i>\r\n      </span>\r\n\r\n        <span>{text && text }</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Rating\r\n","import React from 'react'\r\nimport { Card } from 'react-bootstrap'\r\nimport Rating from './Rating'\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Product({ product }) {\r\n  return (\r\n    <Card className=\"my-3 p-3 rounded\">\r\n     <Link to={`/product/${product._id}`}>\r\n       <Card.Img src={product.image}/>\r\n     </Link>\r\n\r\n     <Card.Body>\r\n        <Link to={`/product/${product._id}`}>\r\n          <Card.Title as=\"div\">\r\n              <strong>{product.name}</strong>  \r\n          </Card.Title>\r\n        </Link>\r\n\r\n        <Card.Text as=\"div\">\r\n          <div className=\"my-3\">\r\n            {/* {product.rating} from {product.numReviews} reviews */}\r\n            <Rating value={product.rating} text={`${product.numReviews} reviews`} color={'#f8e825'} />\r\n          </div>\r\n        </Card.Text>\r\n\r\n        <Card.Text as=\"h3\">\r\n            ${product.price}\r\n        </Card.Text>\r\n\r\n     </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Product\r\n","import React from 'react'\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\nexport default function LoadingBox() {\r\n  return (\r\n    <>\r\n      <div className=\"loading\">\r\n        <i className=\"fa fa-spinner fa-spine\"></i> Loading...\r\n      </div>\r\n      <Spinner\r\n            animation='border'\r\n            role='status'\r\n            style={{\r\n                height: '100px',\r\n                width: '100px',\r\n                margin: 'auto',\r\n                display: 'block'\r\n            }}\r\n        >\r\n            <span className='sr-only'>Loading...</span>\r\n        </Spinner>\r\n    </>\r\n  )\r\n}","import React from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\nfunction Message({ variant, children }) {\r\n  return (\r\n    <Alert variant={variant}>\r\n      {children}\r\n    </Alert>\r\n  )\r\n}\r\n\r\nexport default Message","import React from 'react'\r\nimport { Pagination } from 'react-bootstrap'\r\nimport { LinkContainer }  from 'react-router-bootstrap'\r\n\r\nfunction Paginate({ pages, page, keyword = '', isAdmin=false }) {\r\n\r\n  console.log('page', page)\r\n  if (keyword) {\r\n    keyword = keyword.split('?keyword=')[1].split('&')[0]\r\n  }\r\n\r\n  console.log('KEYWORD:', keyword) // 77\r\n\r\n  return (pages > 1 && (\r\n    <Pagination>\r\n      {[...Array(pages).keys()].map((x) => (\r\n        <LinkContainer\r\n          key={x + 1}\r\n          to={!isAdmin ? `/?keyword=${keyword}&page=${x + 1}`\r\n          : `/admin/productlist/?keyword=${keyword}&page=${x + 1}`\r\n        }\r\n        >\r\n          <Pagination.Item active={x + 1 === page}>{ x + 1 }</Pagination.Item>\r\n        </LinkContainer>\r\n      ))}\r\n    </Pagination>\r\n  )\r\n  )\r\n}\r\n\r\nexport default Paginate\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Carousel, Image } from 'react-bootstrap'\r\nimport Message from './Message'\r\nimport Loader from './Loader'\r\nimport { listTopProducts } from '../actions/productActions'\r\n\r\nfunction ProductCaroulsel() {\r\n  const dispatch = useDispatch()\r\n\r\n  const productTopRated = useSelector(state => state.productTopRated)\r\n  const { error, loading, products } = productTopRated\r\n\r\n  useEffect(() => {\r\n    dispatch(listTopProducts())\r\n  }, [dispatch])\r\n\r\n  return (loading ? <Loader />\r\n  : error ? <Message variant='danger'>{error}</Message>\r\n  : (\r\n      <Carousel pause='hover' className='bg-dark'>\r\n        {products.map(product => (\r\n          <Carousel.Item key={product._id}>\r\n            <Link to={`/product/${product._id}`}>\r\n              <Image src={product.image} alt={product.name} fluid />\r\n              <Carousel.Caption className='carousel-caption'>\r\n                <h4>{product.name} (${product.price})</h4>\r\n              </Carousel.Caption>\r\n            </Link>\r\n          </Carousel.Item>\r\n        ))}\r\n      </Carousel>\r\n    )\r\n  )\r\n}\r\n\r\nexport default ProductCaroulsel\r\n","import React, { useEffect } from 'react'\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\n// import products from '../products'\r\nimport Product from '../components/Product'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport Paginate from '../components/Paginate'  // 77\r\nimport ProductCaroulsel from '../components/ProductCaroulsel';\r\n// import axios from 'axios'\r\n\r\nfunction HomeScreen({history}) {\r\n  const dispatch = useDispatch()\r\n  const productList = useSelector(state => state.productList);\r\n  const { loading, error, products, pages, page } = productList;\r\n\r\n  // const [products, setProducts] = useState([])\r\n  let keyword = history.location.search   // 76\r\n  console.log('history', history)\r\n  console.log('keyword1', keyword)\r\n  useEffect(() => {\r\n    dispatch(listProducts(keyword))\r\n\r\n  //  console.log('useEffec triggered')\r\n\r\n  //  async function fetchProducts(){\r\n  //    const {data}= await axios.get('/api/products/')\r\n  //    setProducts(data)\r\n  //  }\r\n  //  fetchProducts()\r\n\r\n  }, [dispatch, keyword])\r\n\r\n  return (\r\n    <div>\r\n      {!keyword && <ProductCaroulsel />}\r\n      <h1>Latest Products</h1>\r\n      {loading ? <Loader />\r\n          : error? <Message variant='danger'>{error}</Message>\r\n          :\r\n          <div>\r\n            <Row>\r\n              {products.map(product => (\r\n                <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n                  {/* <h3>{product.name}</h3> */}\r\n                  <Product product={product} />\r\n                </Col>\r\n              ))}\r\n            </Row>\r\n            <Paginate pages={pages} page={page} keyword={keyword}/> {/* 77 */}\r\n          </div>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomeScreen\r\n\r\n","import React, {useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { Row, Col, Image, ListGroup, Button, Card, Form } from 'react-bootstrap';\r\nimport Rating from '../components/Rating'\r\n// import products from '../products'\r\n// import axios from 'axios'  // 24\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { listProductDetails, createProductReview } from '../actions/productActions'\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants'\r\n\r\nfunction ProductScreen({ match, history }) {   // propsdestrcturing \r\n  const [qty, setQty] = useState(1)\r\n  const [rating, setRating] = useState(0)  //75\r\n  const [comment, setComment] = useState('')  //75\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const productReviewCreate = useSelector((state) => state.productReviewCreate);\r\n  const { loading: loadingProductReview, error: errorProductReview, success: successProductReview } = productReviewCreate;\r\n\r\n  useEffect(() => {\r\n    if (successProductReview) {\r\n      setRating(0)\r\n      setComment('')\r\n      dispatch({ type: PRODUCT_CREATE_REVIEW_RESET })\r\n    }\r\n\r\n    dispatch(listProductDetails(match.params.id))\r\n\r\n  },[dispatch, match, successProductReview])\r\n\r\n  const addToCartHandler = () => {\r\n    console.log('Add to cart:', match.params.id)\r\n    history.push(`/cart/${match.params.id}?qty=${qty}`)\r\n    // props.history.push(`/cart/${productId}?qty=${qty}`)\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(createProductReview(\r\n      match.params.id,\r\n      { rating, comment }\r\n    ))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Link to='/' className='btn btn-light my-3'>Go Back</Link>\r\n      {/* {product.name} */}\r\n      {loading ?\r\n        <Loader />\r\n        :error\r\n            ? <Message variant='danger'>{error}</Message>\r\n            : (\r\n                <div>\r\n                  <Row>\r\n                  <Col md={6}>\r\n                    <Image src={product.image} alt={product.name} fluid />\r\n                  </Col>\r\n                  <Col md={3}>\r\n                    <ListGroup variant=\"flush\">\r\n                      <ListGroup.Item>\r\n                        <h3>{product.name}</h3>\r\n                      </ListGroup.Item>\r\n          \r\n                      <ListGroup.Item>\r\n                      <Rating value={product.rating} text={`${product.numReviews} reviews`} color={'#f8e825'} /> \r\n                      </ListGroup.Item>\r\n          \r\n                      <ListGroup.Item>\r\n                        Price: ${product.price}\r\n                      </ListGroup.Item>\r\n          \r\n                      <ListGroup.Item>\r\n                        Description: {product.description}\r\n                      </ListGroup.Item>\r\n                    </ListGroup>\r\n                  </Col>\r\n                  <Col md={3}>\r\n                    <Card>\r\n                      <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item>\r\n                          <Row>\r\n                            <Col>Price:</Col>\r\n                            <Col>\r\n                              <strong>${product.price}</strong>\r\n                            </Col>\r\n                          </Row>\r\n                        </ListGroup.Item>\r\n          \r\n                        <ListGroup.Item>\r\n                          <Row>\r\n                            <Col>Status:</Col>\r\n                            <Col>\r\n                                {product.countInStock > 0 ? 'In Stock' : 'Out of Stock' }\r\n                            </Col>\r\n                          </Row>\r\n                        </ListGroup.Item>\r\n\r\n                        {product.countInStock > 0 && (\r\n                          <ListGroup.Item>\r\n                            <Row>\r\n                              <Col>Qty</Col>\r\n                              <Col xs='auto' className='my-1'>\r\n                                <Form.Control\r\n                                    as=\"select\"\r\n                                    value={qty}\r\n                                    onChange={(e)=>setQty(e.target.value)}\r\n                                >\r\n                                  {\r\n                                    // [0,1,2]\r\n                                    [...Array(product.countInStock).keys()].map((x)=>(\r\n                                      <option key={x+1} value={x+1}>\r\n                                        { x + 1}\r\n                                      </option>\r\n                                    ))\r\n                                  }\r\n                                </Form.Control>\r\n                              </Col>\r\n\r\n                            </Row>\r\n                          </ListGroup.Item>\r\n                        )}\r\n          \r\n                        <ListGroup.Item>\r\n                          <Button \r\n                            onClick={addToCartHandler}\r\n                            className='btn-block' \r\n                            disabled={product.countInStock===0} \r\n                            type='button' >\r\n                              Add to cart\r\n                          </Button>\r\n                        </ListGroup.Item>\r\n          \r\n                      </ListGroup>\r\n                    </Card>\r\n                  </Col>\r\n                  </Row> \r\n              \r\n                  <Row>\r\n                    <Col md={6}>\r\n                      <h4>Reviews</h4>\r\n                      {product.reviews.length === 0 && <Message variant='info'>No Reviews</Message>}\r\n                      \r\n                      <ListGroup variant='flush'>\r\n                        {product.reviews.map((review) => (\r\n                          <ListGroup.Item key={review._id}>\r\n                            <stong>{review.name}</stong>\r\n                            <Rating value={review.rating} color='#f8e825' />\r\n                            <p>{review.createdAt.substring(0, 10)}</p>\r\n                            <p>{review.comment}</p>\r\n                          </ListGroup.Item>\r\n                        ))}\r\n                        <ListGroup.Item>\r\n                          <h4>Write a review</h4>\r\n                          {loadingProductReview && <Loader />}\r\n                          {successProductReview && <Message variant='success'>Review Submitted</Message>}\r\n                          {errorProductReview && <Message variant='danger'>{errorProductReview}</Message>}\r\n                          \r\n                          {userInfo ? (\r\n                            <Form onSubmit={submitHandler}>\r\n                              <Form.Group controlId='rating'>\r\n                              <Form.Label>Rating</Form.Label>\r\n                                <Form.Control\r\n                                  as='select'\r\n                                  value={rating}\r\n                                  onChange={(e)=>setRating(e.target.value)}\r\n                                >\r\n                                  <option value=''>Select...</option>\r\n                                  <option value='1'>1 - Poor</option>\r\n                                  <option value='2'>2 - Fair</option>\r\n                                  <option value='3'>3 - Good</option>\r\n                                  <option value='4'>4 - Very Good</option>\r\n                                  <option value='5'>5 - Excellent</option>\r\n                                </Form.Control>\r\n                              </Form.Group>\r\n                          \r\n                              <Form.Group controlId='comment'>\r\n                              <Form.Label>Review</Form.Label>\r\n                                <Form.Control\r\n                                  as='textarea'\r\n                                  row = '5'\r\n                                  value={comment}\r\n                                  onChange={(e)=>setComment(e.target.value)}\r\n                                >\r\n                                </Form.Control>\r\n                              </Form.Group>\r\n                          \r\n                              <Button \r\n                                disabled={loadingProductReview}\r\n                                type='submit'\r\n                                variant='primary'\r\n                              >\r\n                                Submit\r\n                              </Button>\r\n\r\n                            </Form>\r\n                          ) : (\r\n                            <Message variant='info'>Please <Link to='/login'>login</Link> to write a review</Message>\r\n                          )}\r\n                      </ListGroup.Item>\r\n                      </ListGroup>\r\n                    </Col>\r\n                  </Row>\r\n              </div>\r\n            )\r\n      }\r\n     </div>\r\n  )\r\n}\r\n\r\nexport default ProductScreen\r\n","import axios from 'axios';\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_PAYMENT_METHOD, CART_SAVE_SHIPPING_ADDRESS } from \"../constants/cartConstants\";\r\n\r\nexport const addToCart = (id, qty) => async(dispatch, getState) =>{\r\n  const {data} = await axios.get(`/api/products/${id}`);\r\n  dispatch({\r\n    type: CART_ADD_ITEM,\r\n    payload:{\r\n      name: data.name,\r\n      image: data.image,\r\n      price: data.price,\r\n      countInStock: data.countInStock,\r\n      product: data._id,\r\n      qty,\r\n    },\r\n  });\r\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n}\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n  dispatch({type: CART_REMOVE_ITEM, payload: id});\r\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n}\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) =>{\r\n  dispatch({type: CART_SAVE_SHIPPING_ADDRESS, payload: data});\r\n  localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n}\r\n\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n  dispatch( {type: CART_SAVE_PAYMENT_METHOD, payload: data})\r\n  localStorage.setItem('paymentMethod', JSON.stringify(data));\r\n}","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { addToCart, removeFromCart } from '../actions/cartActions';\r\nimport Message from '../components/Message';\r\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from 'react-bootstrap';\r\n\r\nexport default function CartScreen({ match, location, history }) {\r\n  const productId = match.params.id;\r\n  // qty: ?qty=3  => [\"?qty\", \"3\"] (split)\r\n  const qty = location.search \r\n    ? Number(location.search.split('=')[1])\r\n    : 1;\r\n\r\n  const cart = useSelector(state => state.cart);\r\n  const { cartItems } = cart;\r\n  console.log('cartItems', cartItems)\r\n  const dispatch = useDispatch()\r\n  useEffect(() => {\r\n    if(productId) {\r\n      dispatch(addToCart(productId, qty));\r\n    }\r\n  }, [dispatch, productId, qty]);\r\n\r\n  const removeFromCartHandler = (id) => {\r\n    console.log('remove:', id)\r\n    dispatch(removeFromCart(id))\r\n  }\r\n\r\n  const checkoutHandler = () => {\r\n    history.push('/login?redirect=shipping');\r\n  };\r\n\r\n  return (\r\n    // <div>\r\n    //   <h1>Cart Screen</h1>\r\n    //   <p>ADD TO CART : ProductID: {productId} Qty: {qty}</p>\r\n    // </div>\r\n    <Row>\r\n      <Col md={8}>\r\n        <h1>Shopping Cart</h1>\r\n        {cartItems.length===0\r\n          ? ( <Message variant='info'>\r\n            Cart is empty. <Link to=\"/\" >Go Back</Link>\r\n          </Message>\r\n          ) : (\r\n            <ListGroup variant='flush'>\r\n              { cartItems.map((item) => (\r\n                  <ListGroup.Item key={item.prodct}>\r\n                    <Row>\r\n                      <Col md={2}>\r\n                        <Image src={item.image} alt={item.name} fluid rounded />\r\n                      </Col>\r\n                      <Col md={3}>\r\n                        <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                      </Col>\r\n                      <Col md={2}>${item.price}</Col>\r\n                      <Col md={2}>\r\n                        {/* select Form.Control as\"select\" */}\r\n                        <select value={item.qty} onChange={e => dispatch(addToCart(item.product, Number(e.target.value)))\r\n                        }>\r\n                        {[...Array(item.countInStock).keys()].map( x=> (\r\n                          <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                        ))}\r\n                        </select>\r\n                      </Col>\r\n                      <Col md={1}>\r\n                      <Button\r\n                        type=\"button\"\r\n                        variant=\"light\"\r\n                        onClick={() => removeFromCartHandler(item.product)}>\r\n                          <i className='fas fa-trash'></i>\r\n                      </Button>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                ))\r\n              }\r\n            </ListGroup>\r\n          )}\r\n      </Col>\r\n      <Col md={4}>\r\n          <Card>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <h2>\r\n                    Subtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0 )}) items \r\n                  </h2>\r\n                    ${cartItems.reduce((acc, item) => acc + item.price * item.qty, 0).toFixed(2)} \r\n                </ListGroup.Item>\r\n                <ListGroup>\r\n                  <Button type=\"button\" onClick={checkoutHandler} className=\"btn-block\" disabled ={cartItems.length === 0}>\r\n                    Proceed to Checkout\r\n                  </Button>\r\n                </ListGroup>\r\n              </ListGroup>\r\n          </Card>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nfunction FormContainer({ children }) {\r\n  return (\r\n    <Container>\r\n      <Row className=\"justify-content-md-center\">\r\n        <Col xs={12} md={6} >\r\n          { children }\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default FormContainer\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { login } from '../actions/userActions'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { Form, Button, Row, Col } from 'react-bootstrap'\r\n\r\nfunction LoginScreen(props) {\r\n\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const redirect = props.location.search \r\n      ? props.location.search.split('=')[1]\r\n      : '/' ;\r\n\r\n  const userLogin = useSelector(state => state.userLogin)\r\n  const { userInfo, loading, error } = userLogin\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const submitHandler=(e)=> {\r\n      e.preventDefault();\r\n      // Signin action\r\n      console.log('Sign In')\r\n      dispatch(login(email, password))\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if(userInfo) {\r\n      props.history.push(redirect)\r\n    }\r\n  },[props.history, userInfo, redirect]);\r\n\r\n  return (\r\n      <FormContainer>\r\n        <h1>Sign In</h1>\r\n        <Form onSubmit={submitHandler}>\r\n          {loading && <Loader></Loader>}\r\n          {error && <Message variant=\"danger\">{error}</Message>}\r\n\r\n          <Form.Group controlID='email'>\r\n            <Form.Label>Email Address</Form.Label>\r\n            <Form.Control type=\"email\" value={email} placeholder=\"Enter email\" required \r\n            onChange={ (e) => setEmail(e.target.value)} />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlID='pasword'>\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control type=\"password\" value={password} placeholder=\"Enter password\" required \r\n            onChange={ (e) => setPassword(e.target.value)} />\r\n          </Form.Group>\r\n\r\n          <Button variant=\"primary\" type=\"submit\">Sign In</Button>\r\n\r\n          <Row className=\"py-3\">\r\n            <Col>\r\n              New customer? <Link \r\n                to={redirect ? `/register?redirect=${redirect}` : '/register' }>\r\n                Register\r\n                </Link>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </FormContainer>\r\n  )\r\n}\r\n\r\nexport default LoginScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { register } from '../actions/userActions'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { Form, Button, Row, Col } from 'react-bootstrap'\r\n\r\nfunction RegisterScreen(props) {\r\n\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [confirmPassword, setConfirmPassword] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const redirect = props.location.search \r\n      ? props.location.search.split('=')[1]\r\n      : '/' ;\r\n\r\n  const userRegister = useSelector(state => state.userRegister)\r\n  const { userInfo, loading, error } = userRegister\r\n\r\n\r\n  const submitHandler=(e)=> {\r\n      e.preventDefault();\r\n      if(password !== confirmPassword){\r\n        // alert('Password and confirm password are not match')\r\n        setMessage('Passwords do not match')\r\n      } else {\r\n      // Register action\r\n      dispatch(register(name, email, password))\r\n      }\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if(userInfo) {\r\n      props.history.push(redirect)\r\n    }\r\n  },[props.history, userInfo, redirect]);\r\n\r\n  return (\r\n    <FormContainer>\r\n        <h1>Create Account</h1>\r\n        {message && <Message variant='danger'>{message}</Message>}\r\n        {loading && <Loader />}\r\n        {error && <Message variant=\"danger\">{error}</Message>}\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group controlId='name'>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control type=\"name\" value={name} placeholder=\"Enter name\" required \r\n            onChange={ (e) => setName(e.target.value)} />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='email'>\r\n            <Form.Label>Email Address</Form.Label>\r\n            <Form.Control type=\"email\" value={email} placeholder=\"Enter email\" required \r\n            onChange={ (e) => setEmail(e.target.value)} />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='password'>\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control type=\"password\" value={password} placeholder=\"Enter password\" required \r\n            onChange={ (e) => setPassword(e.target.value)} />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='confirmPassword'>\r\n            <Form.Label>Confirm Password</Form.Label>\r\n            <Form.Control type=\"password\" value={confirmPassword} placeholder=\"Enter confirm password\" required \r\n            onChange={ (e) => setConfirmPassword(e.target.value)} />\r\n          </Form.Group>\r\n\r\n          <Button variant=\"primary\" type=\"submit\">Register</Button>\r\n        </Form>\r\n\r\n        <Row className='py-3'>\r\n          <Col>\r\n            Have an account? <Link to={redirect? `${redirect}` : '/login'}>Sign In</Link>\r\n          </Col>\r\n        </Row>\r\n      \r\n    </FormContainer>\r\n  )\r\n}\r\n\r\nexport default RegisterScreen ","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { getUserDetails, updateUserProfile } from '../actions/userActions'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { Form, Button, Row, Col, Table } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants'\r\nimport { listMyOrders } from '../actions/orderActions'\r\n\r\nfunction ProfileScreen({ history }) {\r\n\r\n      const [name, setName] = useState('');\r\n      const [email, setEmail] = useState('');\r\n      const [password, setPassword] = useState('');\r\n      const [confirmPassword, setConfirmPassword] = useState('');\r\n      const [message, setMessage] = useState('');\r\n\r\n      const dispatch = useDispatch();\r\n\r\n      const userLogin = useSelector(state => state.userLogin);\r\n      const { userInfo } = userLogin;\r\n\r\n      const userDetails = useSelector(state => state.userDetails)\r\n      const { loading, error, user } = userDetails;\r\n\r\n      const userUpdateProfile = useSelector(state => state.userUpdateProfile)\r\n      const { success } = userUpdateProfile;\r\n  \r\n      const orderListMy = useSelector(state => state.orderListMy)\r\n      const { loading:loadingOrders, error:errorOrders, orders  } = orderListMy;\r\n      \r\n            \r\n      useEffect(()=>{\r\n        if (!userInfo){\r\n          history.push('/login')\r\n        } else {\r\n          if (!user || !user.name || success || userInfo._id !==user._id) {\r\n            dispatch({type:USER_UPDATE_PROFILE_RESET})\r\n            dispatch(getUserDetails('profile'))\r\n            dispatch(listMyOrders())\r\n          } else {\r\n            setName(user.name);\r\n            setEmail(user.email);\r\n          }\r\n        }\r\n      }, [dispatch, history, userInfo, user, success])\r\n      \r\n      const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        // dipatch update profile\r\n        if (password !== confirmPassword) {\r\n          setMessage('Password and Confirm Password Are Not Matched');\r\n        } else {\r\n          dispatch(updateUserProfile({'id': user._id, 'name': name, 'email': email, 'password': password }))\r\n          setMessage('')\r\n        }\r\n      };\r\n\r\n      return (\r\n        <Row>\r\n          <Col md={3}>\r\n              <h2>User Profile</h2>\r\n              {message && <Message variant='danger'>{message}</Message>}\r\n              {loading && <Loader />}\r\n              {error && <Message variant=\"danger\">{error}</Message>}\r\n              <Form onSubmit={submitHandler}>\r\n                <Form.Group controlId='name'>\r\n                  <Form.Label>Name</Form.Label>\r\n                  <Form.Control type=\"name\" value={name} placeholder=\"Enter name\" required \r\n                  onChange={ (e) => setName(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='email'>\r\n                  <Form.Label>Email Address</Form.Label>\r\n                  <Form.Control type=\"email\" value={email} placeholder=\"Enter email\" required \r\n                  onChange={ (e) => setEmail(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='password'>\r\n                  <Form.Label>Password</Form.Label>\r\n                  <Form.Control type=\"password\" value={password} \r\n                  placeholder=\"Enter password\"\r\n                  onChange={ (e) => setPassword(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='confirmPassword'>\r\n                  <Form.Label>Confirm Password</Form.Label>\r\n                  <Form.Control type=\"password\" value={confirmPassword} \r\n                  placeholder=\"Enter confirm password\"\r\n                  onChange={ (e) => setConfirmPassword(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary\" type=\"submit\">Update</Button>\r\n            </Form>\r\n          </Col>\r\n\r\n          <Col md={9}>\r\n            <h2>My Orders</h2>\r\n            {loadingOrders ? (\r\n              <Loader/>\r\n            ) : errorOrders ? (\r\n              <Message variant='danger'>{errorOrders}</Message>\r\n            ) : (\r\n                  <Table striped responsive ClassName='table-sm'>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>ID</th>\r\n                        <th>Date</th>\r\n                        <th>Total</th>\r\n                        <th>Paid</th>\r\n                        <th>Delivered</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {orders.map(order => (\r\n                        <tr key={order._id}>\r\n                          <td>{order._id}</td>\r\n                          <td>{order.createdAt.substring(0, 10)}</td>\r\n                          <td>${order.totalPrice}</td>\r\n                          <td>{order.isPaid ? order.paidAt.substring(0, 10) : (\r\n                            <i className='fas fa-times' style={{ color: 'red'}}></i>\r\n                          )}</td>\r\n                          <td>{order._id}</td>\r\n                          <td>\r\n                            <LinkContainer to={`/order/${order._id}`} >\r\n                              <Button className='btn-sm'>Details</Button>\r\n                            </LinkContainer>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n  )\r\n}\r\n\r\nexport default ProfileScreen\r\n","import axios from 'axios'\r\nimport { CART_CLEAR_ITEMS } from '../constants/cartConstants'\r\nimport {\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_SUCCESS,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_PAY_RESET,\r\n\r\n  ORDER_LIST_MY_REQUEST,\r\n  ORDER_LIST_MY_SUCCESS,\r\n  ORDER_LIST_MY_FAIL,\r\n  ORDER_LIST_MY_RESET,\r\n\r\n  ORDER_LIST_REQUEST,\r\n  ORDER_LIST_SUCCESS,\r\n  ORDER_LIST_FAIL,\r\n\r\n  ORDER_DELIVER_REQUEST,\r\n  ORDER_DELIVER_SUCCESS,\r\n  ORDER_DELIVER_FAIL,\r\n  ORDER_DELIVER_RESET,\r\n\r\n} from '../constants/orderConstants'\r\n\r\n// userActions updateUserProfile\r\nexport const createOrder = (order) => async(dispatch, getState) => {\r\n  \r\n  try {\r\n    dispatch({ type: ORDER_CREATE_REQUEST })\r\n\r\n    const { userLogin: { userInfo } } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n    const { data } = await axios.post('/api/orders/add/', order, config)\r\n    console.log(data)\r\n    \r\n    dispatch({\r\n      type: ORDER_CREATE_SUCCESS,\r\n      payload: data,\r\n    })\r\n\r\n    dispatch({\r\n      type: CART_CLEAR_ITEMS,\r\n      payload: data,\r\n    })\r\n\r\n    localStorage.removeItem('cartItems')\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_CREATE_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message\r\n    })\r\n  }\r\n    \r\n}\r\n\r\n// 54\r\nexport const getOrderDetails = (id) => async(dispatch, getState) => {\r\n  \r\n  try {\r\n    dispatch({ type: ORDER_DETAILS_REQUEST })\r\n\r\n    const { userLogin: { userInfo } } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n    const { data } = await axios.get(`/api/orders/${id}/`, config)\r\n    console.log(data)\r\n    \r\n    dispatch({\r\n      type: ORDER_DETAILS_SUCCESS,\r\n      payload: data,\r\n    })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_DETAILS_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message\r\n    })\r\n  }\r\n    \r\n}\r\n\r\n// 57\r\nexport const payOrder = (id, paymentResult) => async(dispatch, getState) => {\r\n  \r\n  try {\r\n    dispatch({ type: ORDER_PAY_REQUEST })\r\n\r\n    const { userLogin: { userInfo } } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n\r\n    const { data } = await axios.put(`/api/orders/${id}/pay/`, paymentResult, config)\r\n    console.log(data)\r\n    \r\n    dispatch({\r\n      type: ORDER_PAY_SUCCESS,\r\n      payload: data,\r\n    })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_PAY_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message\r\n    })\r\n  }\r\n}\r\n\r\n// 73\r\nexport const DeliverOrder = (order) => async(dispatch, getState) => {\r\n  \r\n  try {\r\n    dispatch({ type: ORDER_DELIVER_REQUEST })\r\n\r\n    const { userLogin: { userInfo } } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n\r\n    const { data } = await axios.put(`/api/orders/${order._id}/deliver/`, {}, config)\r\n    console.log(data)\r\n    \r\n    dispatch({\r\n      type: ORDER_DELIVER_SUCCESS,\r\n      payload: data,\r\n    })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_DELIVER_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message\r\n    })\r\n  }\r\n} \r\n\r\n// 59\r\nexport const listMyOrders = () => async(dispatch, getState) => {\r\n  \r\n  try {\r\n    dispatch({ type: ORDER_LIST_MY_REQUEST })\r\n\r\n    const { userLogin: { userInfo } } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n    const { data } = await axios.get(`/api/orders/myorders/`, config)\r\n    console.log(data)\r\n    \r\n    dispatch({\r\n      type: ORDER_LIST_MY_SUCCESS,\r\n      payload: data,\r\n    })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_LIST_MY_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message\r\n    })\r\n  }\r\n}\r\n    \r\n// 72 Admin Order List\r\nexport const listOrders = () => async(dispatch, getState) => {\r\n  \r\n  try {\r\n    dispatch({ type: ORDER_LIST_REQUEST })\r\n\r\n    const { userLogin: { userInfo } } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    }\r\n    const { data } = await axios.get(`/api/orders/`, config)\r\n    console.log(data)\r\n    \r\n    dispatch({\r\n      type: ORDER_LIST_SUCCESS,\r\n      payload: data,\r\n    })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_LIST_FAIL,\r\n      payload: error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message\r\n    })\r\n  }\r\n}\r\n\r\n","import React from 'react'\r\nimport { Nav } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\n\r\nfunction CheckoutSteps({ step1, step2, step3, step4 }) {\r\n  return (\r\n    <Nav className='justify-content-center mb-4'>\r\n      <Nav.Item>\r\n        { step1 ? (\r\n          <LinkContainer to='/login' >\r\n            <Nav.Link>Login</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n            <Nav.Link disabled>Login</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        { step2 ? (\r\n          <LinkContainer to='/shipping' >\r\n            <Nav.Link>Shipping</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n            <Nav.Link disabled>Shipping</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        { step3 ? (\r\n          <LinkContainer to='/payment' >\r\n            <Nav.Link>Payment</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n            <Nav.Link disabled>Payment</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        { step4 ? (\r\n          <LinkContainer to='/placeorder' >\r\n            <Nav.Link>Place Order</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n            <Nav.Link disabled>Place Order</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n    </Nav>\r\n  )\r\n}\r\n\r\nexport default CheckoutSteps\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport FormContainer from '../components/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { saveShippingAddress } from '../actions/cartActions'\r\n\r\nfunction ShippingScreen( { history }) {\r\n  const cart = useSelector(state => state.cart)\r\n  const { shippingAddress } = cart\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const [address, setAddress] = useState(shippingAddress.address)\r\n  const [city, setCity] = useState(shippingAddress.city)\r\n  const [postalCode, setPostalCode] = useState(shippingAddress.postalCode)\r\n  const [country, setCountry] = useState(shippingAddress.country)\r\n\r\n  const submitHandler = (e)=> {\r\n    e.preventDefault();\r\n    console.log('Submitted')\r\n    dispatch(saveShippingAddress({ address, city, postalCode, country}))\r\n    history.push('/payment')\r\n  }\r\n\r\n  return (\r\n    <FormContainer>\r\n      <CheckoutSteps step1 step2/>\r\n      <h1>Shipping</h1>\r\n      <form onSubmit={submitHandler}>   \r\n\r\n        <Form.Group controlId='address'>\r\n          <Form.Label>Address</Form.Label>\r\n          <Form.Control type=\"text\" value={address ? address : ''} placeholder=\"Enter address\" required \r\n          onChange={ (e) => setAddress(e.target.value)} />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='city'>\r\n          <Form.Label>City</Form.Label>\r\n          <Form.Control type=\"text\" value={city ? city : ''} placeholder=\"Enter city\" required \r\n          onChange={ (e) => setCity(e.target.value)} />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='postalCode'>\r\n          <Form.Label>PostalCode</Form.Label>\r\n          <Form.Control type=\"text\" value={postalCode ? postalCode : ''} placeholder=\"Enter postal code\" required \r\n          onChange={ (e) => setPostalCode(e.target.value)} />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='country'>\r\n          <Form.Label>Country</Form.Label>\r\n          <Form.Control type=\"text\" value={country ? country : ''} placeholder=\"Enter country\" required \r\n          onChange={ (e) => setCountry(e.target.value)} />\r\n        </Form.Group>\r\n\r\n        <Button type='submit' variant='primary'>\r\n          Continue\r\n        </Button>\r\n\r\n      </form>\r\n    </FormContainer>\r\n  )\r\n}\r\n\r\nexport default ShippingScreen\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport FormContainer from '../components/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { Form, Button, Col } from 'react-bootstrap'\r\nimport { savePaymentMethod } from '../actions/cartActions'\r\n\r\nfunction PaymentScreen({ history }) {\r\n\r\n  const cart = useSelector(state => state.cart)\r\n  const { shippingAddress } = cart\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const [paymentMethod, setPaymentMethod] = useState('PayPal')\r\n\r\n  if (!shippingAddress.address){\r\n    history.push('/shipping')\r\n  }\r\n\r\n  const submitHnandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(savePaymentMethod(paymentMethod))\r\n    history.push('/placeorder')\r\n  }\r\n\r\n  return (\r\n    <FormContainer>\r\n      <CheckoutSteps step1 step2 step3 />\r\n      <Form onSubmit={submitHnandler}>\r\n        <Form.Group>\r\n          <Form.Label as = 'legend'>Select Method</Form.Label>\r\n          <Col>\r\n            <Form.Check\r\n              type = 'radio'\r\n              label='PayPal or Credit Card'\r\n              id='paypal'\r\n              name='paymentMethod'\r\n              checked\r\n              onChange={(e)=>setPaymentMethod(e.target.value)}\r\n            >  \r\n            </Form.Check>\r\n          </Col>\r\n        </Form.Group>\r\n\r\n        <Button type='submit' variant='primary'>\r\n          Continue\r\n        </Button>\r\n      </Form>\r\n    </FormContainer>\r\n  )\r\n\r\n}\r\n\r\nexport default PaymentScreen\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n// import FormContainer from '../components/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { Button, Row, Col, ListGroup, Image, Card, ListGroupItem } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport Message from '../components/Message'\r\nimport { createOrder } from '../actions/orderActions'\r\nimport { ORDER_CREATE_RESET } from '../constants/orderConstants'\r\n\r\nfunction PlaceOrderScreen({history}) {\r\n\r\n  const orderCreate = useSelector(state => state.orderCreate)\r\n  const { order, success, error } = orderCreate\r\n\r\n  const dispatch = useDispatch()\r\n  const cart = useSelector(state => state.cart)\r\n\r\n  cart.itemsPrice = cart.cartItems.reduce((acc, item) => acc + item.price * item.qty, 0).toFixed(2)\r\n  cart.shippingPrice = (cart.itemsPrice > 100 ? 0 : 10).toFixed(2)\r\n  cart.taxPrice = Number((0.082) * cart.itemsPrice).toFixed(2)\r\n\r\n  cart.totalPrice = (Number(cart.itemsPrice) + Number(cart.shippingPrice) + Number(cart.taxPrice)).toFixed(2)\r\n\r\n  if (!cart.paymentMethod) {\r\n    history.push('/payment')\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if (success) {\r\n      history.push(`/order/${order._id}`)\r\n      dispatch({ type: ORDER_CREATE_RESET })\r\n    }\r\n    \r\n  }, [success, history])\r\n\r\n  const placeOrder = () => {\r\n    // ref. backend\\babse\\viewsorder_views.py\r\n    dispatch(createOrder({\r\n      orderItems: cart.cartItems,\r\n      shippingAddress: cart.shippingAddress,\r\n      paymentMethod: cart.paymentMethod,\r\n      itemsPrice: cart.itemsPrice,\r\n      shippingPrice: cart.shippingPrice,\r\n      taxPrice: cart.taxPrice,\r\n      totalPrice: cart.totalPrice\r\n    }))\r\n    // console.log('Place Order')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3 step4 />\r\n      <Row>\r\n        <Col md={8}>\r\n          <ListGroup variant='flush'>\r\n            <ListGroup.Item>\r\n              <h2>Shipping</h2>\r\n              <p>\r\n                <strong>Shipping:</strong>\r\n                {cart.shippingAddress.address}, {cart.shippingAddress.city}\r\n                {'  '}\r\n                {cart.shippingAddress.postalCode},\r\n                {'  '}\r\n                {cart.shippingAddress.country}\r\n              </p>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n              <h2>Method</h2>\r\n              <p>\r\n                <strong>Method:</strong>\r\n                {cart.paymentMethod}\r\n              </p>\r\n            </ListGroup.Item>\r\n\r\n            <ListGroup.Item>\r\n              <h2>Order Items</h2>\r\n              { cart.cartItems.length === 0 ? \r\n                <Message variant='info'>Your cart is empty</Message>\r\n              : (\r\n                  <ListGroup variant='flush'>\r\n                    {cart.cartItems.map((item, index) => {\r\n                      return (\r\n                        <ListGroup.Item key={index}>\r\n                          <Row>\r\n                            <Col md={1}>\r\n                              <Image src={item.image} alt={item.name} fluid rounded/>\r\n                            </Col>\r\n                            <Col>\r\n                              <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                            </Col>\r\n                            <Col md={4}>\r\n                              {item.qty} X ${item.price} = ${(item.qty * item.price).toFixed(2)}\r\n                            </Col>\r\n\r\n                          </Row>\r\n                        </ListGroup.Item>\r\n                      )\r\n                    })}\r\n                  </ListGroup>\r\n                )\r\n              }\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n\r\n        <Col md={4}>\r\n          <Card>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <h2>Order Summary</h2>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Item:</Col>\r\n                    <Col>${cart.itemsPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Shipping:</Col>\r\n                    <Col>${cart.shippingPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Tax:</Col>\r\n                    <Col>${cart.taxPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Total:</Col>\r\n                    <Col>${cart.totalPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              \r\n                <ListGroup.Item>\r\n                {error && <Message variant='danger' >{error}</Message>}\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Button\r\n                    type='button'\r\n                    className='btn-block'\r\n                    disabled={cart.cartItems.length === 0}\r\n                    onClick={placeOrder}\r\n                  >\r\n                    Place Order\r\n                  </Button>\r\n                </ListGroup.Item>\r\n\r\n              </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlaceOrderScreen\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Button, Row, Col, ListGroup, Image, Card, } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { DeliverOrder, getOrderDetails, payOrder } from '../actions/orderActions'\r\nimport { PayPalButton } from 'react-paypal-button-v2'\r\nimport { ORDER_PAY_RESET, ORDER_DELIVER_RESET } from '../constants/orderConstants'\r\n\r\n\r\nfunction OrderScreen({ match, history }) {\r\n  const orderId = match.params.id\r\n  const dispatch = useDispatch()\r\n\r\n  const [sdkReady, setSdkReady] = useState(false)\r\n\r\n  const orderDetails = useSelector(state => state.orderDetails)\r\n  const { order, loading, error } = orderDetails\r\n\r\n  const orderPay = useSelector(state => state.orderPay);\r\n  const { loading: loadingPay, success: successPay } = orderPay\r\n  \r\n  // 73\r\n  const orderDeliver = useSelector(state => state.orderDeliver);\r\n  const { loading: loadingDeliver, success: successDeliver } = orderDeliver\r\n  // 73\r\n  const userLogin = useSelector(state => state.userLogin)\r\n  const { userInfo } = userLogin\r\n\r\n  if (!loading && !error) {\r\n    order.itemsPrice = order.orderItems.reduce((acc, item) => acc + item.price * item.qty, 0).toFixed(2)\r\n  }\r\n\r\n  // \r\n\r\n  const addPayPalScript = () => {\r\n    const script = document.createElement('script')\r\n    script.type = 'text/javascript'\r\n    script.src = 'https://www.paypal.com/sdk/js?client-id=AQfqZM_6WWlrcAOHyda3aQ-WpnzVI6_ytjI9zE8Rby971Ycy3LKlX0NShxu0CFca3tTpwm5nr_cAVlA3'\r\n    script.async = true;\r\n    script.onload = () => {\r\n      setSdkReady(true);\r\n    };\r\n    document.body.appendChild(script)\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if (!userInfo) {\r\n      history.push('login')\r\n    }\r\n\r\n    if (!order || successPay || order._id !== Number(orderId) || successDeliver) {\r\n      dispatch({ type: ORDER_PAY_RESET })\r\n      dispatch({ type: ORDER_DELIVER_RESET })\r\n      \r\n      dispatch(getOrderDetails(orderId))\r\n    }else {\r\n      if(!order.isPaid) {\r\n        if(!window.paypal) {\r\n          addPayPalScript();\r\n        }else{\r\n          setSdkReady(true)\r\n        }\r\n      }\r\n    }\r\n    \r\n  }, [dispatch, order, orderId, successPay, successDeliver])\r\n\r\n  const successPaymentHandler = (paymentResult) => {\r\n    // dispatch pay order\r\n    dispatch(payOrder(orderId, paymentResult));\r\n  };\r\n\r\n  const deliverHandler = () => {\r\n    dispatch(DeliverOrder(order))\r\n  }\r\n\r\n  return loading ? (\r\n    <Loader />\r\n  ) : error ? (\r\n      <Message variant='daneger'>{error}</Message>\r\n  ) : (\r\n        <div>\r\n          <h1>Order: {order._id}</h1>\r\n          <Row>\r\n            <Col md={8}>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <h2>Shipping</h2>\r\n                  <p><strong>Name: </strong>{order.user.name}</p>\r\n                  <p><strong>Email: </strong><a href={`mailto:${order.user.email}`}>{order.user.email}</a></p>\r\n                  <p>\r\n                    <strong>Shipping:</strong>\r\n                    {order.shippingAddress.address}, {order.shippingAddress.city}\r\n                    {'  '}\r\n                    {order.shippingAddress.postalCode},\r\n                    {'  '}\r\n                    {order.shippingAddress.country}\r\n                  </p>\r\n                  {order.isDelivered ? (\r\n                    <Message variant='success'>Delivered on {order.deliveredAt}</Message>\r\n                  ) : (\r\n                      <Message variant='warning'>Not Delivered</Message>\r\n                  )\r\n                  }\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                  <h2>Method</h2>\r\n                  <p>\r\n                    <strong>Method:</strong>\r\n                    {order.paymentMethod}\r\n                  </p>\r\n                  {order.isPaid ? (\r\n                    <Message variant='success'>Paid on {order.paidAt}</Message>\r\n                  ) : (\r\n                      <Message variant='warning'>Not Paid</Message>\r\n                  )\r\n                  }\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <h2>Order Items</h2>\r\n                  { order.orderItems.length === 0 ? \r\n                    <Message variant='info'>Order is empty</Message>\r\n                  : (\r\n                      <ListGroup variant='flush'>\r\n                        {order.orderItems.map((item, index) => {\r\n                          return (\r\n                            <ListGroup.Item key={index}>\r\n                              <Row>\r\n                                <Col md={1}>\r\n                                  <Image src={item.image} alt={item.name} fluid rounded/>\r\n                                </Col>\r\n                                <Col>\r\n                                  <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                </Col>\r\n                                <Col md={4}>\r\n                                  {item.qty} X ${item.price} = ${(item.qty * item.price).toFixed(2)}\r\n                                </Col>\r\n\r\n                              </Row>\r\n                            </ListGroup.Item>\r\n                          )\r\n                        })}\r\n                      </ListGroup>\r\n                    )\r\n                  }\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n\r\n            <Col md={4}>\r\n              <Card>\r\n                  <ListGroup variant='flush'>\r\n                    <ListGroup.Item>\r\n                      <h2>Order Summary</h2>\r\n                    </ListGroup.Item>\r\n\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Item:</Col>\r\n                        <Col>${order.itemsPrice}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Shipping:</Col>\r\n                        <Col>${order.shippingPrice}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Tax:</Col>\r\n                        <Col>${order.taxPrice}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Total:</Col>\r\n                        <Col>${order.totalPrice}</Col>\r\n                      </Row>\r\n                  </ListGroup.Item>\r\n                  \r\n                  {!order.isPaid && (\r\n                    <ListGroup.Item>\r\n                      {loadingPay && <Loader />}\r\n\r\n                      {!sdkReady ? (\r\n                        <Loader />\r\n                      ) : (\r\n                        <PayPalButton amount={order.totalPrice} \r\n                        onSuccess={successPaymentHandler}></PayPalButton>\r\n                       )}\r\n                    </ListGroup.Item>\r\n                  )}\r\n                </ListGroup>\r\n\r\n                { loadingDeliver && <Loader />}\r\n                {console.log('userInfo:', userInfo)}\r\n                {userInfo && userInfo.isAdmin && order.isPaid && !order.isDelivered && (\r\n                  <ListGroup.Item>\r\n                    <Button type='button' className='btn btn-block' onClick={deliverHandler} >\r\n                      Mark As Deliver\r\n                    </Button>\r\n                  </ListGroup.Item>\r\n                )}\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default OrderScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { Table, Button } from 'react-bootstrap'\r\nimport { deleteUser, listUsers } from '../actions/userActions'\r\n\r\nfunction UserListScreen({ history }) {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const userList = useSelector(state => state.userList)\r\n  const { loading, error, users } = userList\r\n\r\n  const userLogin = useSelector(state => state.userLogin)\r\n  const { userInfo } = userLogin\r\n\r\n  const userDelete = useSelector(state => state.userDelete)\r\n  const { success: successDelete } = userDelete\r\n\r\n  useEffect(() => {\r\n    if (userInfo && userInfo.isAdmin) {\r\n      dispatch(listUsers())\r\n    } else {\r\n      history.push('/login')\r\n    }\r\n    \r\n  }, [dispatch, history, successDelete, userInfo])\r\n\r\n  const deleteHandler = (id) => {\r\n    if (window.confirm('Are you sure you want to delete this user?'))\r\n    dispatch(deleteUser(id))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Users</h1>\r\n      {loading\r\n        ? (<Loader />)\r\n        : error\r\n          ? (<Message variant='danger'>{error}</Message>)\r\n          : (\r\n            <Table striped bordered hover responsive className='table-sm'>\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>NAME</th>\r\n                  <th>EMAIL</th>\r\n                  <th>ADMIN</th>\r\n                  <th></th>\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody>\r\n                {users.map(user => (\r\n                  <tr key={user._id}>\r\n                    <td>{user._id}</td>\r\n                    <td>{user.name}</td>\r\n                    <td>{user.email}</td>\r\n                    <td>{user.isAdmin ? (\r\n                      <i className='fas fa-check' style={{color: 'green'}}></i>\r\n                    ) : (\r\n                      <i className='fas fa-check' style={{color: 'red'}}></i>\r\n                    )}</td>\r\n                    <td>\r\n                      <LinkContainer to={`/admin/user/${user._id}/edit`}>\r\n                        <Button variant='light' className='btn-sm'>\r\n                          <i className=\"fas fa-edit\"></i>\r\n                        </Button>\r\n                      </LinkContainer>\r\n\r\n                      <Button variant='danger' className='btn-sm' onClick={()=>deleteHandler(user._id)}>\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          )\r\n    }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserListScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { getUserDetails, updateUser } from '../actions/userActions'\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants'\r\n\r\nfunction UserEditScreen({ match, history }) {\r\n\r\n  const userId = match.params.id\r\n\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [isAdmin, setIsAdmin] = useState(false)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const userDetails = useSelector(state => state.userDetails)\r\n  const { user, loading, error } = userDetails\r\n\r\n  const userUpdate = useSelector(state => state.userUpdate)\r\n  const { loading: loadingUpdate, error: errorUpdate, success:successUpdate } = userUpdate\r\n\r\n  useEffect(() => {\r\n    // 64 Update User\r\n    if (successUpdate) {\r\n      dispatch({ type: USER_UPDATE_RESET })\r\n      history.push('/admin/userlist')\r\n    } else {\r\n      \r\n        if (!user.name || user._id !== Number(userId)) {\r\n          dispatch(getUserDetails(userId))\r\n        } else {\r\n          setName(user.name)\r\n          setEmail(user.email)\r\n          setIsAdmin(user.isAdmin)\r\n        }\r\n    }\r\n\r\n  }, [user, userId, successUpdate, history]);\r\n  \r\n  const submitHandler=(e)=> {\r\n    e.preventDefault();\r\n    dispatch(updateUser({_id:user._id, name, email, isAdmin}))\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Link to='/admin/userlist'>\r\n        Go Back\r\n      </Link>\r\n      <FormContainer>\r\n        <h1>Edit User</h1>\r\n        {loadingUpdate && <Loader />}\r\n        {errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\r\n\r\n        {loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message>\r\n          : (\r\n              <Form onSubmit={submitHandler}>\r\n\r\n                <Form.Group controlId='name'>\r\n                  <Form.Label>Name</Form.Label>\r\n                  <Form.Control type=\"name\" value={name} placeholder=\"Enter name\"\r\n                  onChange={ (e) => setName(e.target.value)} />\r\n                </Form.Group>\r\n              \r\n                <Form.Group controlID='email'>\r\n                  <Form.Label>Email Address</Form.Label>\r\n                  <Form.Control type=\"email\" value={email} placeholder=\"Enter email\"\r\n                  onChange={ (e) => setEmail(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='isAdmin'>\r\n                  <Form.Check type=\"checkbox\" label='Is Admin'checked={isAdmin} \r\n                  onChange={(e)=>setIsAdmin(e.target.checked)}\r\n                  >\r\n                  </Form.Check>\r\n                </Form.Group>\r\n              \r\n                <Button variant=\"primary\" type=\"submit\">Update</Button>\r\n        </Form>\r\n        )}\r\n  \r\n      </FormContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserEditScreen ","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport Paginate from '../components/Paginate'  // 77\r\nimport { Table, Button, Row, Col } from 'react-bootstrap'\r\nimport { deleteProduct, listProducts, createProduct } from '../actions/productActions'\r\nimport { PRODUCT_CREATE_RESET} from '../constants/productConstants'\r\n\r\nfunction ProductListScreen({ history }) {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const productList = useSelector(state => state.productList)\r\n  const { loading, error, products, pages, page } = productList\r\n\r\n  const productDelete = useSelector(state => state.productDelete)\r\n  const { loading: loadingDelete, error: errorDelete, success: successDelete } = productDelete\r\n\r\n  const productCreate = useSelector(state => state.productCreate)\r\n  const { loading: loadingCreate, error: errorCreate, success: successCreate, product: createdProduct } = productCreate\r\n\r\n  const userLogin = useSelector(state => state.userLogin)\r\n  const { userInfo } = userLogin\r\n\r\n  let keyword = history.location.search  //77 Pagenation\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: PRODUCT_CREATE_RESET })\r\n    \r\n    if (!userInfo.isAdmin) {\r\n      history.push('/login')\r\n    }\r\n\r\n    if (successCreate) {\r\n      history.push(`/admin/product/${createdProduct._id}/edit`)\r\n    } else {\r\n      dispatch(listProducts(keyword)) // 77\r\n    }\r\n    \r\n  }, [dispatch, history, userInfo, successDelete, successCreate, createdProduct, keyword])\r\n\r\n  const deleteHandler = (id) => {\r\n    if (window.confirm('Are you sure you want to delete this product?')) {\r\n      dispatch(deleteProduct(id))\r\n    }\r\n\r\n  }\r\n\r\n  const createProductHandler = () => {\r\n      // Creeate Product\r\n    dispatch(createProduct())\r\n  }\r\n\r\n  return (\r\n    <div> {/* 77 */}\r\n      <Row className=\"align-items-center\">\r\n        <Col>\r\n          <h1>Products</h1>\r\n        </Col>\r\n        <Col className=\"text-right\">\r\n          <Button className=\"my-3\" onClick={createProductHandler}>\r\n            <i className='fas fa-plus'></i>Create Product\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    \r\n      {loadingDelete && <Loader />}\r\n      {errorDelete && <Message variant='danger'>{errorDelete}</Message>}\r\n  \r\n      {loadingCreate && <Loader />}\r\n      {errorCreate && <Message variant='danger'>{errorCreate}</Message>}\r\n\r\n      {loading\r\n        ? (<Loader />)\r\n        : error\r\n          ? (<Message variant='danger'>{error}</Message>)\r\n          : (\r\n            <div>\r\n              <Table striped bordered hover responsive className='table-sm'>\r\n                <thead>\r\n                  <tr>\r\n                    <th>ID</th>\r\n                    <th>NAME</th>\r\n                    <th>PRICE</th>\r\n                    <th>CATEGORY</th>\r\n                    <th>BRAND</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                  {products.map(product => (\r\n                    <tr key={product._id}>\r\n                      <td>{product._id}</td>\r\n                      <td>{product.name}</td>\r\n                      <td>{product.price}</td>\r\n                      <td>{product.category}</td>\r\n                      <td>{product.brand}</td>\r\n                      <td>\r\n                        <LinkContainer to={`/admin/product/${product._id}/edit`}>\r\n                          <Button variant='light' className='btn-sm'>\r\n                            <i className=\"fas fa-edit\"></i>\r\n                          </Button>\r\n                        </LinkContainer>\r\n\r\n                        <Button variant='danger' className='btn-sm' onClick={()=>deleteHandler(product._id)}>\r\n                          <i className=\"fas fa-trash\"></i>\r\n                        </Button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n              <Paginate pages={pages} page={page} isAdmin={true} />  {/* 77 */} \r\n            </div>\r\n          )\r\n    }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductListScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { listProductDetails, updateProduct } from '../actions/productActions'\r\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants'\r\nimport axios from 'axios'\r\n\r\nfunction ProductEditScreen({ match, history }) {\r\n\r\n  const productId = match.params.id\r\n\r\n  const [name, setName] = useState('')\r\n  const [price, setPrice] = useState(0)\r\n  const [image, setImage] = useState('')\r\n  const [brand, setBrand] = useState('')\r\n  const [category, setCategory] = useState('')\r\n  const [countInStock, setCountInStock] = useState(0)\r\n  const [description, setDescription] = useState('')\r\n  const [uploading, setUploading] = useState(false)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const productDetails = useSelector(state => state.productDetails)\r\n  const { product, loading, error } = productDetails\r\n\r\n  const productUpdate = useSelector(state => state.productUpdate)\r\n  const { loading: loadingUpdate, error: errorUpdate, success: successUpdate } = productUpdate\r\n \r\n  useEffect(() => {\r\n    // 70\r\n    if (successUpdate) {\r\n      dispatch({ type: PRODUCT_UPDATE_RESET })\r\n      history.push('/admin/productlist')\r\n    } else {\r\n      // 69\r\n      if (!product.name || product._id !== Number(productId)) {\r\n        dispatch(listProductDetails(productId))\r\n      } else {\r\n        setName(product.name)\r\n        setPrice(product.price)\r\n        setImage(product.image)\r\n        setBrand(product.brand)\r\n        setCategory(product.category)\r\n        setCountInStock(product.countInStock)\r\n        setDescription(product.description)\r\n      }\r\n    }\r\n\r\n  }, [dispatch, product, productId, history, successUpdate]);\r\n  \r\n  const submitHandler=(e)=> {\r\n    e.preventDefault();\r\n    // Update product\r\n    dispatch(updateProduct({\r\n      _id: productId,\r\n      name,\r\n      price,\r\n      image,\r\n      brand,\r\n      category,\r\n      countInStock,\r\n      description\r\n    }))\r\n  };\r\n\r\n  const uploadFileHandler = async (e) => {\r\n    // console.log('File is uploading')\r\n    const file = e.target.files[0]\r\n    const formData = new FormData()\r\n\r\n    formData.append('image', file)\r\n    formData.append('product_id', productId)\r\n\r\n    setUploading(true)\r\n\r\n    try {\r\n      const config = {\r\n        header: {\r\n          'Content-Type':'multipart/form-data'\r\n        }\r\n      }\r\n\r\n      const { data } = await axios.post('/api/products/upload/', formData, config)\r\n      setImage(data)\r\n      setUploading(false)\r\n\r\n    } catch (error) {\r\n      setUploading(false)\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Link to='/admin/productlist'>\r\n        Go Back\r\n      </Link>\r\n\r\n      <FormContainer>\r\n        <h1>Edit Product</h1>\r\n        {loadingUpdate && <Loader />}\r\n        {errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\r\n\r\n        {loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message>\r\n          : (\r\n              <Form onSubmit={submitHandler}>\r\n\r\n                <Form.Group controlId='name'>\r\n                  <Form.Label>Name</Form.Label>\r\n                  <Form.Control type=\"name\" value={name} placeholder=\"Enter name\"\r\n                  onChange={ (e) => setName(e.target.value)} />\r\n                </Form.Group>\r\n              \r\n                <Form.Group controlId='price'>\r\n                  <Form.Label>Price</Form.Label>\r\n                  <Form.Control type=\"number\" value={price} placeholder=\"Enter price\"\r\n                  onChange={ (e) => setPrice(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='image'>\r\n                  <Form.Label>Image</Form.Label>\r\n                  <Form.Control type=\"text\" value={image} placeholder=\"Enter image\"\r\n                  onChange={(e) => setImage(e.target.value)} />\r\n                  <Form.File id='image-file' label='Choose File' custom onChange={uploadFileHandler}\r\n                  >\r\n                  </Form.File>\r\n                  {uploading && <Loader />}\r\n                </Form.Group>\r\n              \r\n                <Form.Group controlId='brand'>\r\n                  <Form.Label>Brand</Form.Label>\r\n                  <Form.Control type=\"text\" value={brand} placeholder=\"Enter brand\"\r\n                  onChange={ (e) => setBrand(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='countinstock'>\r\n                  <Form.Label>Stock</Form.Label>\r\n                  <Form.Control type=\"number\" value={countInStock} placeholder=\"Enter stock\"\r\n                  onChange={ (e) => setCountInStock(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='category'>\r\n                  <Form.Label>Category</Form.Label>\r\n                  <Form.Control type=\"text\" value={category} placeholder=\"Enter category\"\r\n                  onChange={ (e) => setCategory(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='description'>\r\n                  <Form.Label>Description</Form.Label>\r\n                  <Form.Control type=\"text\" value={description} placeholder=\"Enter description\"\r\n                  onChange={ (e) => setDescription(e.target.value)} />\r\n                </Form.Group>\r\n              \r\n                <Button variant=\"primary\" type=\"submit\">Update</Button>\r\n        </Form>\r\n        )}\r\n  \r\n      </FormContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductEditScreen ","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { Table, Button } from 'react-bootstrap'\r\nimport { listOrders } from '../actions/orderActions'\r\n\r\nfunction OrderListScreen({ history }) {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const orderList = useSelector(state => state.orderList)\r\n  const { loading, error, orders } = orderList\r\n\r\n  const userLogin = useSelector(state => state.userLogin)\r\n  const { userInfo } = userLogin\r\n\r\n  useEffect(() => {\r\n    if (userInfo && userInfo.isAdmin) {\r\n      dispatch(listOrders())\r\n    } else {\r\n      history.push('/login')\r\n    }\r\n    \r\n  }, [dispatch, history, userInfo])\r\n\r\n  return (\r\n    <div>\r\n      <h1>Orders</h1>\r\n      {loading\r\n        ? (<Loader />)\r\n        : error\r\n          ? (<Message variant='danger'>{error}</Message>)\r\n          : (\r\n            <Table striped bordered hover responsive className='table-sm'>\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>USER</th>\r\n                  <th>DATE</th>\r\n                  <th>TOTAL</th>\r\n                  <th>PAID</th>\r\n                  <th>DELIVERED</th>\r\n                  <th></th>\r\n                </tr>d\r\n              </thead>\r\n\r\n              <tbody>\r\n                {orders.map(order => (\r\n                  <tr key={order._id}>\r\n                    <td>{order._id}</td>\r\n                    <td>{order.user && order.user.name}</td>\r\n                    <td>{order.createdAt.substring(0,10)}</td>\r\n                    <td>${order.totalPrice}</td>\r\n                    <td>{order.isPaid ? (\r\n                      order.paidAt.substring(0,10)\r\n                    ) : (\r\n                      <i className='fas fa-check' style={{color: 'red'}}></i>\r\n                    )}\r\n                    </td>\r\n                    <td>{order.isDelivered ? (\r\n                      order.deliveredAt.substring(0,10)\r\n                    ) : (\r\n                      <i className='fas fa-check' style={{color: 'red'}}></i>\r\n                    )}\r\n                    </td>\r\n\r\n                    <td>\r\n                      <LinkContainer to={`/order/${order._id}`}>\r\n                        <Button variant='light' className='btn-sm'>\r\n                          Details\r\n                        </Button>\r\n                      </LinkContainer>\r\n\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          )\r\n    }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OrderListScreen\r\n","import { Container } from 'react-bootstrap';\nimport { HashRouter as Router, Route} from 'react-router-dom';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\n\nimport HomeScreen from './screens/HomeScreen';\nimport ProductScreen from './screens/ProductScreen';\nimport CartScreen from './screens/CartScreen';\nimport LoginScreen from './screens/LoginScreen';\nimport RegisterScreen from './screens/RegisterScreen';\nimport ProfileScreen from './screens/ProfileScreen';\nimport ShippingScreen from './screens/ShippingScreen';\nimport PaymentScreen from './screens/PaymentScreen';\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\nimport OrderScreen from './screens/OrderScreen';\nimport UserListScreen from './screens/UserListScreen';\nimport UserEditScreen from './screens/UserEditScreen';\nimport ProductListScreen from './screens/ProductListScreen';\nimport ProductEditScreen from './screens/ProductEditScreen';\nimport OrderListScreen from './screens/OrderListScreen';\n\nfunction App() {\n  return (\n    <Router>\n      <Header/>\n      <main className=\"py-3\">\n        <Container>\n          <Route path='/' component={ HomeScreen } exact />\n          <Route path='/login' component={ LoginScreen } />\n          <Route path='/register' component={ RegisterScreen } />\n          <Route path='/profile' component={ ProfileScreen } />\n          <Route path='/product/:id' component={ ProductScreen } />\n          <Route path='/cart/:id?' component={ CartScreen } />\n          <Route path='/shipping' component={ ShippingScreen } />\n          <Route path='/payment' component={ PaymentScreen } />\n          <Route path='/placeorder' component={ PlaceOrderScreen } />\n          <Route path='/order/:id' component={OrderScreen} />\n          \n          <Route path='/admin/userlist' component={ UserListScreen } />\n          <Route path='/admin/user/:id/edit' component={UserEditScreen} />\n          \n          <Route path='/admin/productlist' component={ProductListScreen} />\n          <Route path='/admin/product/:id/edit' component={ProductEditScreen} />\n\n          <Route path='/admin/orderList' component={OrderListScreen} />\n        </Container>\n      </main>\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nimport './index.css';\nimport './bootstrap.min.css'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}